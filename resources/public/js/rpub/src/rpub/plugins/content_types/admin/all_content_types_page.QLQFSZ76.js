import*as e from"cherry-cljs/cljs.core.js";import*as U from"rads.dnd";import{useEffect as M}from"react";import"cherry-cljs/lib/clojure.set.js";import*as B from"cherry-cljs/lib/clojure.string.js";import*as Qe from"rads.inflections";import*as q from"rpub.admin.impl";import"rpub.lib.dag";import{use_dag as N}from"rpub.lib.dag.react";import*as S from"rpub.lib.html";import*as $e from"rpub.lib.http";var D=function(l){return q.__GT_unsaved_changes.call(null,e.keyword("all-content-types-page"),e.select_keys.call(null,l,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"))))},I=function(l){return q.update_unsaved_changes_BANG_.call(null,D.call(null,l))},H=function(l,o){const n=o,t=e.__destructure_map.call(null,n),a=e.get.call(null,t,e.keyword("content-type")),c=e.array_map(e.keyword("content-type"),e.select_keys.call(null,a,e.vector(e.keyword("id"))));return e.assoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"),c)},J=function(l,o){const n=o,t=e.__destructure_map.call(null,n),a=e.get.call(null,t,e.keyword("content-type")),c=e.get.call(null,t,e.keyword("content-type-field")),u=e.array_map(e.keyword("content-type"),e.select_keys.call(null,a,e.vector(e.keyword("id"))),e.keyword("content-type-field"),e.select_keys.call(null,c,e.vector(e.keyword("id"))));return e.assoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"),u)},V=function(l){return e.dissoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"))},W=function(l){const o=e.get_in.call(null,l,e.vector(e.keyword("rpub.lib.dag/values"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"))),n=e.get.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection")),t=e.get_in.call(null,n,e.vector(e.keyword("content-type"),e.keyword("id"))),a=e.get_in.call(null,n,e.vector(e.keyword("content-type-field"),e.keyword("id"))),c=e.get.call(null,o,t),u=null,r=e.truth_.call(null,e.keyword("content-type").call(null,n))?e.assoc.call(null,u,e.keyword("content-type"),c):u;return e.truth_.call(null,e.keyword("content-type-field").call(null,n))?e.assoc.call(null,r,e.keyword("content-type-field"),e.first.call(null,e.filter.call(null,function(d){return e._EQ_.call(null,e.keyword("id").call(null,d),a)},e.keyword("fields").call(null,c)))):r},X=function(l,o){return e.assoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-source"),o)},Y=function(l){if(e.truth_.call(null,e.seq.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past").call(null,l)))){const o=e.peek.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past").call(null,l)),n=e.dissoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"));return e.assoc.call(null,e.assoc.call(null,o,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.pop.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past").call(null,l))),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"),e.fnil.call(null,e.conj,e.vector()).call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future").call(null,l),n))}else return l},Z=function(l){if(e.truth_.call(null,e.seq.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future").call(null,l)))){const o=e.peek.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future").call(null,l)),n=e.dissoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"));return e.assoc.call(null,e.assoc.call(null,o,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.fnil.call(null,e.conj,e.vector()).call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past").call(null,l),n)),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"),e.pop.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future").call(null,l)))}else return l},P=e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),A=function(l){const o=function(n){const t=e.array.call(null),a=e.alength.call(null,arguments);let c=0;for(;;){if(c<a){t.push(arguments[c]),c=c+1;continue}break}const u=1<e.alength.call(null,t)?new e.IndexedSeq(t.slice(1),0,null):null;return o.cljs$core$IFn$_invoke$arity$variadic(arguments[0],u)};return o.cljs$core$IFn$_invoke$arity$variadic=function(n,t){const a=e.select_keys.call(null,n,P),c=e.apply.call(null,l,n,t);return e.assoc.call(null,e.update.call(null,c,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.fnil.call(null,e.conj,e.vector()),a),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"),e.vector())},o.cljs$lang$maxFixedArity=1,o.cljs$lang$applyTo=function(n){const t=e.first.call(null,n),a=e.next.call(null,n);return this.cljs$core$IFn$_invoke$arity$variadic(t,a)},o},ee=function(l){const o=l,n=e.__destructure_map.call(null,o),t=n,a=e.get.call(null,n,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/original-content-types")),c=q.index_by.call(null,e.keyword("id"),a);return e.assoc.call(null,t,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),c)},le=function(l){return e.assoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save"),!0)},ne=function(l){return e.assoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save"),!1)},te=function(l){return e.assoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save"),!1)},R=function(l,o){return e.str.call(null,e.keyword("id").call(null,l),"|",e.keyword("id").call(null,o))},z=function(l){const o=l,n=e.__destructure_map.call(null,o),t=e.get.call(null,n,e.keyword("content-type")),a=e.get.call(null,n,e.keyword("content-type-field")),c=e.get.call(null,n,e.keyword("field-types")),u=N.call(null,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"))),r=e.nth.call(null,u,0,null),d=e.__destructure_map.call(null,r),y=e.get.call(null,d,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection")),b=e.nth.call(null,u,1,null),v=(()=>{const h=e._EQ_.call(null,e.get_in.call(null,y,e.vector(e.keyword("content-type"),e.keyword("id"))),e.keyword("id").call(null,t));return e.truth_.call(null,h)?e._EQ_.call(null,e.get_in.call(null,y,e.vector(e.keyword("content-type-field"),e.keyword("id"))),e.keyword("id").call(null,a)):h})(),Q=e.get.call(null,c,e.keyword("type").call(null,a));return e.vector(e.keyword("div"),e.array_map(e.keyword("class"),e.str.call(null,"bg-white my-2 flex items-center ","w-full font-semibold border ","rounded-[6px] hover:border-blue-500 ",e.truth_.call(null,v)?"ring-2 ring-blue-400 border-blue-500":"border-gray-100"),e.keyword("data-draggable"),"true",e.keyword("data-id"),R.call(null,t,a),e.keyword("data-container-id"),e.keyword("id").call(null,t),e.keyword("data-content-type-field-id"),e.keyword("id").call(null,a),e.keyword("key"),e.keyword("id").call(null,a)),e.vector(e.keyword("label"),e.array_map(e.keyword("for"),"field-name")),e.vector(e.keyword("div.w-full.pl-2.py-2"),e.array_map(e.keyword("on-click"),function(h){return b.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/select-content-type-field"),e.array_map(e.keyword("content-type"),t,e.keyword("content-type-field"),a))}),e.keyword("name").call(null,a)),e.vector(e.keyword("div.bg-gray-50.px-2.py-2.border-l.border-l-gray-100"),e.array_map(e.keyword("class"),"min-w-[150px] rounded-r-[6px]",e.keyword("on-click"),function(h){return b.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/select-content-type-field"),e.array_map(e.keyword("content-type"),t,e.keyword("content-type-field"),a))}),e.vector(e.keyword("label").call(null,Q))))},ae=function(l,o){const n=o,t=e.__destructure_map.call(null,n),a=e.get.call(null,t,e.keyword("content-types")),c=e.get.call(null,t,e.keyword("field-types")),u=e.get.call(null,t,e.keyword("unsaved-changes")),r=q.index_by.call(null,e.keyword("id"),a);return e.array_map(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.get_in.call(null,u,e.vector(e.keyword("value"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"))),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"),e.get_in.call(null,u,e.vector(e.keyword("value"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"))),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/original-content-types"),a,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/field-types"),c,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),(()=>{const d=e.get_in.call(null,u,e.vector(e.keyword("value"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")));return e.truth_.call(null,d)?d:r})())},j=e.uuid.call(null,"019750e2-46c0-7573-aae9-d8f1a8c08c8b"),L=function(l){const o=l,n=e.__destructure_map.call(null,o),t=n,a=e.get.call(null,n,e.keyword("label")),c=e.get.call(null,n,e.keyword("description")),u=e.get.call(null,n,e.keyword("type")),r=e.get.call(null,n,e.keyword("selected")),d=e.get.call(null,n,e.keyword("draggable")),y=e.get.call(null,n,e.keyword("on-click"));return e.truth_.call(null,e.not.call(null,d))?e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"mb-2 flex items-center ps-4 border border-gray-200 rounded-[6px]",e.keyword("on-click"),y),e.vector(e.keyword("input"),e.array_map(e.keyword("class"),"w-4 h-4 text-blue-600 bg-gray-100 border-gray-300 focus:ring-blue-500 focus:ring-2"),e.array_map(e.keyword("type"),"radio",e.keyword("checked"),r,e.keyword("value"),"",e.keyword("name"),"bordered-radio")),e.vector(e.keyword("label"),e.array_map(e.keyword("class"),"w-full py-4 ms-2 text-sm font-medium text-gray-900"),a)):e.vector(e.keyword("div"),e.array_map(e.keyword("class"),e.str.call(null,"border rounded-[6px] p-2 mb-4 bg-gray-50 ",e.truth_.call(null,d)?"cursor-move hover:shadow-md hover:bg-gray-100 border-gray-100":"cursor-pointer hover:border-blue-500"," ",e.truth_.call(null,r)?"ring-2 ring-blue-400 border-blue-500":"border-gray-100"),e.keyword("data-draggable"),d,e.keyword("data-field-type"),e.name.call(null,u),e.keyword("data-container-id"),j),e.vector(e.keyword("h4"),e.array_map(e.keyword("class"),"font-semibold"),a),e.vector(e.keyword("p"),e.array_map(e.keyword("class"),"text-sm text-gray-500"),c))},O=function(l){return e.map.call(null,function(o){const n=o,t=e.nth.call(null,n,0,null),a=e.nth.call(null,n,1,null);return e.assoc.call(null,a,e.keyword("type"),t)},l)},oe=function(l){const o=l,n=e.__destructure_map.call(null,o),t=e.get.call(null,n,e.keyword("field-types")),a=N.call(null,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"))),c=e.nth.call(null,a,0,null),u=e.__destructure_map.call(null,c),r=e.get.call(null,u,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection")),d=e.nth.call(null,a,1,null),y=O.call(null,t),b=function(k,s){return I.call(null,d.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/change-field-type"),s))},v=function(k,s){return I.call(null,d.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type"),s))},Q=function(k,s){const w=prompt("New name:");if(e.truth_.call(null,w)){const i=w;return I.call(null,d.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type"),e.assoc.call(null,s,e.keyword("new-name"),i)))}},h=function(k,s){return I.call(null,d.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type-field"),s))},G=function(k,s){const w=prompt("New name:");if(e.truth_.call(null,w)){const i=w;return I.call(null,d.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type-field"),e.assoc.call(null,s,e.keyword("new-name"),i)))}};return e.truth_.call(null,r)?e.truth_.call(null,e.keyword("content-type-field").call(null,r))?e.vector(q.box,e.array_map(e.keyword("class"),"h-full",e.keyword("title"),e.vector(e.keyword("h3"),e.array_map(e.keyword("class"),"text-2xl font-app-serif font-semibold"),e.vector(e.keyword("span.italic.text-blue-600"),"Field: "),e.get_in.call(null,r,e.vector(e.keyword("content-type-field"),e.keyword("name")))),e.keyword("content"),e.vector(e.keyword("div"),e.vector(e.keyword("div.mb-8.flex"),e.vector(S.action_button,e.array_map(e.keyword("class"),"mt-2 mr-2",e.keyword("on-click"),function(k){return G.call(null,k,r)}),"Rename"),e.vector(S.delete_button,e.array_map(e.keyword("class"),"mt-2",e.keyword("on-click"),function(k){return h.call(null,k,r)}),"Delete")),e.vector(e.keyword("h4"),e.array_map(e.keyword("class"),"text-xl font-app-serif font-semibold mb-4"),"Change Type"),e.vector(e.keyword("div"),function s(w){return new e.LazySeq(null,function(){let i=w;for(;;){const m=e.seq.call(null,i);if(e.truth_.call(null,m)){const g=m;if(e.truth_.call(null,e.chunked_seq_QMARK_.call(null,g))){const f=e.chunk_first.call(null,g),x=e.count.call(null,f),$=e.chunk_buffer.call(null,x);return(()=>{let p=0;for(;;){if(p<x){const _=e._nth.call(null,f,p);e.chunk_append.call(null,$,e.vector(L,e.merge.call(null,_,e.array_map(e.keyword("selected"),e._EQ_.call(null,e.get_in.call(null,r,e.vector(e.keyword("content-type-field"),e.keyword("type"))),e.keyword("type").call(null,_)),e.keyword("on-click"),function(T){return b.call(null,T,e.assoc.call(null,r,e.keyword("new-field-type"),e.keyword("type").call(null,_)))})))),p=e.unchecked_inc.call(null,p);continue}else return!0;break}})()?e.chunk_cons.call(null,e.chunk.call(null,$),s.call(null,e.chunk_rest.call(null,g))):e.chunk_cons.call(null,e.chunk.call(null,$),null)}else{const f=e.first.call(null,g);return e.cons.call(null,e.vector(L,e.merge.call(null,f,e.array_map(e.keyword("selected"),e._EQ_.call(null,e.get_in.call(null,r,e.vector(e.keyword("content-type-field"),e.keyword("type"))),e.keyword("type").call(null,f)),e.keyword("on-click"),function(x){return b.call(null,x,e.assoc.call(null,r,e.keyword("new-field-type"),e.keyword("type").call(null,f)))}))),s.call(null,e.rest.call(null,g)))}}break}},null,null)}.call(null,y))))):e.truth_.call(null,e.keyword("content-type").call(null,r))?e.vector(q.box,e.array_map(e.keyword("class"),"h-full",e.keyword("title"),e.vector(e.keyword("h3"),e.array_map(e.keyword("class"),"text-2xl font-app-serif font-semibold"),e.vector(e.keyword("span.italic.text-blue-600"),"Content Type: "),e.get_in.call(null,r,e.vector(e.keyword("content-type"),e.keyword("name")))),e.keyword("content"),e.vector(e.keyword("div"),e.vector(e.keyword("div.mb-8.flex"),e.vector(S.action_button,e.array_map(e.keyword("class"),"mt-2 mr-2",e.keyword("on-click"),function(k){return Q.call(null,k,r)}),"Rename"),e.vector(S.delete_button,e.array_map(e.keyword("class"),"mt-2",e.keyword("on-click"),function(k){return v.call(null,k,r)}),"Delete")),e.vector(e.keyword("h4"),e.array_map(e.keyword("class"),"text-xl font-app-serif font-semibold mb-4"),"Add Field"),e.vector(e.keyword("div"),function s(w){return new e.LazySeq(null,function(){let i=w;for(;;){const m=e.seq.call(null,i);if(e.truth_.call(null,m)){const g=m;if(e.truth_.call(null,e.chunked_seq_QMARK_.call(null,g))){const f=e.chunk_first.call(null,g),x=e.count.call(null,f),$=e.chunk_buffer.call(null,x);return(()=>{let p=0;for(;;){if(p<x){const _=e._nth.call(null,f,p);e.chunk_append.call(null,$,e.vector(L,e.assoc.call(null,_,e.keyword("draggable"),!0))),p=e.unchecked_inc.call(null,p);continue}else return!0;break}})()?e.chunk_cons.call(null,e.chunk.call(null,$),s.call(null,e.chunk_rest.call(null,g))):e.chunk_cons.call(null,e.chunk.call(null,$),null)}else{const f=e.first.call(null,g);return e.cons.call(null,e.vector(L,e.assoc.call(null,f,e.keyword("draggable"),!0)),s.call(null,e.rest.call(null,g)))}}break}},null,null)}.call(null,y))))):null:e.vector(q.box,e.array_map(e.keyword("class"),"h-full",e.keyword("title"),e.vector(e.keyword("h3"),e.array_map(e.keyword("class"),"text-2xl font-app-serif font-semibold"),"Add Field"),e.keyword("content"),e.vector(e.keyword("div"),function s(w){return new e.LazySeq(null,function(){let i=w;for(;;){const m=e.seq.call(null,i);if(e.truth_.call(null,m)){const g=m;if(e.truth_.call(null,e.chunked_seq_QMARK_.call(null,g))){const f=e.chunk_first.call(null,g),x=e.count.call(null,f),$=e.chunk_buffer.call(null,x);return(()=>{let p=0;for(;;){if(p<x){const _=e._nth.call(null,f,p);e.chunk_append.call(null,$,e.vector(L,e.assoc.call(null,_,e.keyword("draggable"),!0))),p=e.unchecked_inc.call(null,p);continue}else return!0;break}})()?e.chunk_cons.call(null,e.chunk.call(null,$),s.call(null,e.chunk_rest.call(null,g))):e.chunk_cons.call(null,e.chunk.call(null,$),null)}else{const f=e.first.call(null,g);return e.cons.call(null,e.vector(L,e.assoc.call(null,f,e.keyword("draggable"),!0)),s.call(null,e.rest.call(null,g)))}}break}},null,null)}.call(null,y))))},ce=function(l){const o=l,n=e.__destructure_map.call(null,o),t=e.get.call(null,n,e.keyword("name"));return e.array_map(e.keyword("id"),e.random_uuid.call(null),e.keyword("slug"),e.keyword("new-content-type"),e.keyword("name"),t,e.keyword("content-item-count"),0,e.keyword("fields"),e.vector(e.array_map(e.keyword("id"),e.uuid.call(null,"cd334826-1ec6-4906-8e7f-16ece1865faf"),e.keyword("name"),"Title",e.keyword("type"),e.keyword("text"),e.keyword("rank"),1),e.array_map(e.keyword("id"),e.uuid.call(null,"6bd0ff7a-b720-4972-b98a-2aa85d179357"),e.keyword("name"),"Slug",e.keyword("type"),e.keyword("text"),e.keyword("rank"),2),e.array_map(e.keyword("id"),e.uuid.call(null,"65a6aa2e-73a3-4283-afe1-58e610d6727d"),e.keyword("name"),"Content",e.keyword("type"),e.keyword("text-lg"),e.keyword("rank"),3)))},re=function(l){const o=l,n=e.__destructure_map.call(null,o),t=e.get.call(null,n,e.keyword("content-types")),a=N.call(null,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"))),c=e.nth.call(null,a,0,null),u=e.__destructure_map.call(null,c),r=e.get.call(null,u,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),d=e.nth.call(null,a,1,null);return e.vector(q.box,e.array_map(e.keyword("class"),"pb-4",e.keyword("data-no-select"),!0,e.keyword("title"),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"flex items-center"),e.vector(e.keyword("div.grow"),"Content Types"),e.vector(S.button,e.array_map(e.keyword("class"),"font-app-sans ml-auto",e.keyword("on-click"),function(y){const b="New Content Type",v=(()=>{let Q=1,h=e.vals.call(null,r);for(;;){const G=e.truth_.call(null,e._EQ_.call(null,Q,1))?b:e.str.call(null,b," ",Q);if(e.truth_.call(null,e.some.call(null,function(k){return e._EQ_.call(null,e.keyword("name").call(null,k),G)},h))){let k=Q+1,s=e.rest.call(null,h);Q=k,h=s;continue}else return G;break}})();return I.call(null,d.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/new-content-type"),e.array_map(e.keyword("content-type"),ce.call(null,e.array_map(e.keyword("name"),v)))))}),"New Content Type")),e.keyword("content"),e.vector(q.content_item_counts,e.array_map(e.keyword("content-types"),t))))},ue=function(l){const o=e.select_keys.call(null,l,e.vector(e.keyword("content-types")));return $e.post.call(null,"/admin/api/content-types/update",e.array_map(e.keyword("body"),o))},pe=function(){const l=N.call(null,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"))),o=e.nth.call(null,l,0,null),n=e.__destructure_map.call(null,o),t=e.get.call(null,n,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save")),a=e.get.call(null,n,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),c=e.nth.call(null,l,1,null);return e.vector(S.modal,e.array_map(e.keyword("visible"),t,e.keyword("title"),"Save Changes",e.keyword("content"),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"p-4 space-y-4 md:p-5"),e.vector(e.keyword("p.text-base.leading-relaxed.text-gray-500"),"Are you sure you want to save your changes?"),e.vector(e.keyword("pre"),(()=>{const u=e.atom.call(null,""),r=e._STAR_print_fn_STAR_;try{e.set_print_fn_BANG_.call(null,function(d){return e.swap_BANG_.call(null,u,e.str,d)}),e.prn.call(null,a)}finally{e.set_print_fn_BANG_.call(null,r)}return e.deref.call(null,u)})())),e.keyword("on-confirm"),async function(u){return c.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/confirm-save")),await ue.call(null,e.array_map(e.keyword("content-types"),e.vals.call(null,a)))},e.keyword("on-cancel"),function(u){return c.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/cancel-save"))}))},se=function(l){const o=l,n=e.__destructure_map.call(null,o),t=e.get.call(null,n,e.keyword("unsaved-changes")),a=N.call(null,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"))),c=e.nth.call(null,a,0,null),u=e.nth.call(null,a,1,null);return e.vector(q.box,e.array_map(e.keyword("class"),"mb-4",e.keyword("content"),e.vector(e.keyword("div"),e.vector(e.keyword("div.mb-4"),e.vector(e.keyword("div.flex.mb-2"),e.vector(S.button,e.array_map(e.keyword("class"),"mr-2",e.keyword("on-click"),function(r){return I.call(null,u.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/undo")))}),"Undo"),e.vector(S.button,e.array_map(e.keyword("class"),"mr-2",e.keyword("on-click"),function(r){return I.call(null,u.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/redo")))}),"Redo"),e.vector(S.button,e.array_map(e.keyword("class"),"mr-2",e.keyword("on-click"),function(r){return I.call(null,u.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/reset")))}),"Reset"),e.vector(S.button,e.array_map(e.keyword("class"),"mr-2",e.keyword("on-click"),function(r){return u.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/request-save"))}),"Save"))),e.vector(e.keyword("div.text-lg.font-app-serif.font-semibold"),e.vector(e.keyword("span.italic.text-gray-400"),"Status: "),e.truth_.call(null,e.seq.call(null,e.keyword("value").call(null,t)))?"Unsaved changes.":"All changes saved."))))},C=function(l){const o=l,n=e.__destructure_map.call(null,o),t=e.get.call(null,n,e.keyword("drop-indicator")),a=e.get.call(null,n,e.keyword("divider-element")),c=e.get.call(null,n,e.keyword("item-id")),u=e.get.call(null,n,e.keyword("item-element")),r=(()=>{const y=e._EQ_.call(null,e.keyword("id").call(null,t),c);return e.truth_.call(null,y)?e._EQ_.call(null,e.keyword("position").call(null,t),e.keyword("before")):y})(),d=(()=>{const y=e._EQ_.call(null,e.keyword("id").call(null,t),c);return e.truth_.call(null,y)?e._EQ_.call(null,e.keyword("position").call(null,t),e.keyword("after")):y})();return e.list.call(null,e.truth_.call(null,r)?a:null,u,e.truth_.call(null,d)?a:null)},K=function(l){const o=l,n=e.__destructure_map.call(null,o),t=e.get.call(null,n,e.keyword("content-type")),a=e.get.call(null,n,e.keyword("field-types")),c=N.call(null,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-source"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop-indicator"))),u=e.nth.call(null,c,0,null),r=e.__destructure_map.call(null,u),d=e.get.call(null,r,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-source")),y=e.get.call(null,r,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop-indicator")),b=e.nth.call(null,c,1,null),v=e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"h-[3px] bg-[#2196F3] my-[8px] rounded-[3px]"));return e.vector(e.keyword("div"),e.array_map(e.keyword("data-droppable"),"true",e.keyword("data-id"),e.keyword("id").call(null,t)),function h(G){return new e.LazySeq(null,function(){let k=G;for(;;){const s=e.seq.call(null,k);if(e.truth_.call(null,s)){const w=s;if(e.truth_.call(null,e.chunked_seq_QMARK_.call(null,w))){const i=e.chunk_first.call(null,w),m=e.count.call(null,i),g=e.chunk_buffer.call(null,m);return(()=>{let f=0;for(;;){if(f<m){const x=e._nth.call(null,i,f),$=e.vector(z,e.array_map(e.keyword("content-type"),t,e.keyword("field-types"),a,e.keyword("content-type-field"),x));e.chunk_append.call(null,g,e.vector(C,e.array_map(e.keyword("drop-indicator"),y,e.keyword("divider-element"),v,e.keyword("item-id"),R.call(null,t,x),e.keyword("item-element"),$))),f=e.unchecked_inc.call(null,f);continue}else return!0;break}})()?e.chunk_cons.call(null,e.chunk.call(null,g),h.call(null,e.chunk_rest.call(null,w))):e.chunk_cons.call(null,e.chunk.call(null,g),null)}else{const i=e.first.call(null,w),m=e.vector(z,e.array_map(e.keyword("content-type"),t,e.keyword("field-types"),a,e.keyword("content-type-field"),i));return e.cons.call(null,e.vector(C,e.array_map(e.keyword("drop-indicator"),y,e.keyword("divider-element"),v,e.keyword("item-id"),R.call(null,t,i),e.keyword("item-element"),m)),h.call(null,e.rest.call(null,w)))}}break}},null,null)}.call(null,e.sort_by.call(null,e.keyword("rank"),e.keyword("fields").call(null,t))))},de=function(l){const o=l,n=e.__destructure_map.call(null,o),t=n,a=e.get.call(null,n,e.keyword("field-types")),c=N.call(null,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"))),u=e.nth.call(null,c,0,null),r=e.__destructure_map.call(null,u),d=e.get.call(null,r,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),y=e.get.call(null,r,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection")),b=e.nth.call(null,c,1,null),v=e.sort_by.call(null,e.keyword("created-at"),e._GT_,e.vals.call(null,d));return function h(G){return new e.LazySeq(null,function(){let k=G;for(;;){const s=e.seq.call(null,k);if(e.truth_.call(null,s)){const w=s;if(e.truth_.call(null,e.chunked_seq_QMARK_.call(null,w))){const i=e.chunk_first.call(null,w),m=e.count.call(null,i),g=e.chunk_buffer.call(null,m);return(()=>{let f=0;for(;;){if(f<m){const x=e._nth.call(null,i,f);e.chunk_append.call(null,g,e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"pb-4",e.keyword("key"),e.keyword("id").call(null,x),e.keyword("data-no-select"),!0),e.vector(q.box,e.array_map(e.keyword("hover"),!0,e.keyword("on-click"),function(p){return e.truth_.call(null,p.target.closest("[data-content-type-field-id]"))?null:b.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/select-content-type"),e.array_map(e.keyword("content-type"),x))},e.keyword("on-drag-over"),function(p){return p.preventDefault()},e.keyword("on-drop"),function(p){return null},e.keyword("selected"),(()=>{const p=e.not.call(null,e.keyword("content-type-field").call(null,y));return e.truth_.call(null,p)?e._EQ_.call(null,e.get_in.call(null,y,e.vector(e.keyword("content-type"),e.keyword("id"))),e.keyword("id").call(null,x)):p})(),e.keyword("title"),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"flex items-center group"),e.vector(e.keyword("h3"),e.array_map(e.keyword("class"),"text-2xl"),e.keyword("name").call(null,x))),e.keyword("content"),e.truth_.call(null,e.seq.call(null,e.keyword("fields").call(null,x)))?e.vector(e.keyword("div"),e.array_map(e.keyword("key"),e.keyword("id").call(null,x)),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"flex items-start")),e.vector(K,e.array_map(e.keyword("field-types"),a,e.keyword("content-type"),x))):null)))),f=e.unchecked_inc.call(null,f);continue}else return!0;break}})()?e.chunk_cons.call(null,e.chunk.call(null,g),h.call(null,e.chunk_rest.call(null,w))):e.chunk_cons.call(null,e.chunk.call(null,g),null)}else{const i=e.first.call(null,w);return e.cons.call(null,e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"pb-4",e.keyword("key"),e.keyword("id").call(null,i),e.keyword("data-no-select"),!0),e.vector(q.box,e.array_map(e.keyword("hover"),!0,e.keyword("on-click"),function(m){return e.truth_.call(null,m.target.closest("[data-content-type-field-id]"))?null:b.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/select-content-type"),e.array_map(e.keyword("content-type"),i))},e.keyword("on-drag-over"),function(m){return m.preventDefault()},e.keyword("on-drop"),function(m){return null},e.keyword("selected"),(()=>{const m=e.not.call(null,e.keyword("content-type-field").call(null,y));return e.truth_.call(null,m)?e._EQ_.call(null,e.get_in.call(null,y,e.vector(e.keyword("content-type"),e.keyword("id"))),e.keyword("id").call(null,i)):m})(),e.keyword("title"),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"flex items-center group"),e.vector(e.keyword("h3"),e.array_map(e.keyword("class"),"text-2xl"),e.keyword("name").call(null,i))),e.keyword("content"),e.truth_.call(null,e.seq.call(null,e.keyword("fields").call(null,i)))?e.vector(e.keyword("div"),e.array_map(e.keyword("key"),e.keyword("id").call(null,i)),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"flex items-start")),e.vector(K,e.array_map(e.keyword("field-types"),a,e.keyword("content-type"),i))):null))),h.call(null,e.rest.call(null,w)))}}break}},null,null)}.call(null,e.sort_by.call(null,e.keyword("name"),v))},ye=function(l){const o=l,n=e.__destructure_map.call(null,o),t=n,a=e.get.call(null,n,e.keyword("children"));return M.call(null,function(){const c=e.clj__GT_js.call(null,Qe.camel_case_keys.call(null,e.dissoc.call(null,t,e.keyword("children")),e.keyword("lower"))),u=U.start.call(null,c);return function(){return U.stop.call(null,u)}},[]),a},ie=function(l){return e.update.call(null,e.js__GT_clj.call(null,U.dropIndicator.call(null,l),e.keyword("keywordize-keys"),!0),e.keyword("position"),e.keyword)},_e=function(l){return e.str.call(null,l.dataset.containerId,"|",e.random_uuid.call(null))},ke=function(l){const o=l,n=e.__destructure_map.call(null,o),t=n,a=e.get.call(null,n,e.keyword("field-types")),c=e.get.call(null,n,e.keyword("unsaved-changes")),u=N.call(null,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"))),r=e.nth.call(null,u,0,null),d=e.__destructure_map.call(null,r),y=e.get.call(null,d,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),b=e.nth.call(null,u,1,null),v=M.call(null,function(){return b.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/init"),t)},[]),Q=function(s){return e.not.call(null,(()=>{const w=s.target.closest("[data-no-select]");return e.truth_.call(null,w)?w:s.target.closest("[data-content-type-field-id]")})())},h=function(s){if(e.truth_.call(null,Q.call(null,s)))return b.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/clear-selection"))},G=e.sort_by.call(null,e.keyword("created-at"),e._GT_,e.vals.call(null,y)),k=function(s){const w=ie.call(null,s),i=e.keyword.call(null,s.type),m=e.truth_.call(null,e.keyword_QMARK_.call(null,i))?e.subs.call(null,e.str.call(null,i),1):null;switch(m){case"drag":return b.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag"),e.array_map(e.keyword("drop-indicator"),w));case"drop":return b.call(null,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop"),e.array_map(e.keyword("drop-indicator"),w,e.keyword("dnd-event"),s));default:throw new Error(e.str.call(null,"No matching clause: ",m))}};return e.vector(ye,e.array_map(e.keyword("on-event"),k,e.keyword("generate-id"),_e,e.keyword("placeholder-classes"),"opacity-50",e.keyword("draggable-classes"),"shadow-lg"),e.vector(pe),e.vector(e.keyword("div.flex"),e.array_map(e.keyword("class"),"flex",e.keyword("on-click"),h),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"flex-grow"),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"p-4 pr-[384px]"),e.vector(re,e.array_map(e.keyword("content-types"),G)),e.vector(de,e.array_map(e.keyword("content-types"),G,e.keyword("field-types"),a,e.keyword("unsaved-changes"),c))),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"p-4 pl-2 w-[376px] fixed right-0 bottom-0 top-12",e.keyword("data-no-select"),!0),e.vector(se,e.array_map(e.keyword("unsaved-changes"),c)),e.vector(oe,e.array_map(e.keyword("field-types"),a))))))},we=function(l,o){const n=o,t=e.__destructure_map.call(null,n),a=e.get.call(null,t,e.keyword("content-type"));return e.dissoc.call(null,e.update.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.dissoc,e.keyword("id").call(null,a)),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"))},ge=function(l,o){const n=o,t=e.__destructure_map.call(null,n),a=e.get.call(null,t,e.keyword("content-type")),c=e.get.call(null,t,e.keyword("content-type-field")),u=e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("id").call(null,a),e.keyword("fields"));return e.dissoc.call(null,e.update_in.call(null,l,u,function(r){return e.remove.call(null,function(d){return e._EQ_.call(null,e.keyword("id").call(null,d),e.keyword("id").call(null,c))},r)}),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"))},me=function(l,o){const n=o,t=e.__destructure_map.call(null,n),a=e.get.call(null,t,e.keyword("content-type")),c=e.get.call(null,t,e.keyword("new-name")),u=e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("id").call(null,a),e.keyword("name"));return e.assoc_in.call(null,l,u,c)},fe=function(l,o){const n=o,t=e.__destructure_map.call(null,n),a=e.get.call(null,t,e.keyword("content-type")),c=e.get.call(null,t,e.keyword("content-type-field")),u=e.get.call(null,t,e.keyword("new-name")),r=e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("id").call(null,a),e.keyword("fields"));return e.update_in.call(null,l,r,function(d){return e.map.call(null,function(y){return e.truth_.call(null,e._EQ_.call(null,e.keyword("id").call(null,y),e.keyword("id").call(null,c)))?e.assoc.call(null,y,e.keyword("name"),u):y},d)})},be=function(l,o){const n=l,t=e.__destructure_map.call(null,n),a=t,c=e.get.call(null,t,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),u=o,r=e.__destructure_map.call(null,u),d=e.get.call(null,r,e.keyword("content-type")),y=e.assoc.call(null,c,e.keyword("id").call(null,d),d);return e.assoc.call(null,a,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),y)},ve=function(l,o){const n=l,t=e.__destructure_map.call(null,n),a=t,c=e.get.call(null,t,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),u=o,r=e.__destructure_map.call(null,u),d=e.get.call(null,r,e.keyword("content-type")),y=e.get.call(null,r,e.keyword("content-type-field")),b=e.get.call(null,r,e.keyword("new-field-type")),v=e.update.call(null,e.get.call(null,c,e.keyword("id").call(null,d)),e.keyword("fields"),function(h){return e.map.call(null,function(G){return e.truth_.call(null,e._EQ_.call(null,e.keyword("id").call(null,G),e.keyword("id").call(null,y)))?e.assoc.call(null,G,e.keyword("type"),b):G},h)}),Q=e.assoc.call(null,c,e.keyword("id").call(null,d),v);return e.assoc.call(null,a,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),Q)},he=function(l,o){const n=l,t=e.__destructure_map.call(null,n),a=t,c=e.get.call(null,t,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),u=o,r=e.__destructure_map.call(null,u),d=e.get.call(null,r,e.keyword("content-type")),y=e.get.call(null,r,e.keyword("new-fields")),b=e.assoc.call(null,e.get.call(null,c,e.keyword("id").call(null,d)),e.keyword("fields"),y),v=e.assoc.call(null,c,e.keyword("id").call(null,d),b);return e.dissoc.call(null,e.assoc.call(null,a,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),v),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-source"))},xe=function(l,o){const n=o,t=e.__destructure_map.call(null,n),a=e.get.call(null,t,e.keyword("drop-indicator"));return e.assoc.call(null,l,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop-indicator"),a)},F=(()=>{const l=function(o){const n=e.array.call(null),t=e.alength.call(null,arguments);let a=0;for(;;){if(a<t){n.push(arguments[a]),a=a+1;continue}break}const c=3<e.alength.call(null,n)?new e.IndexedSeq(n.slice(3),0,null):null;return l.cljs$core$IFn$_invoke$arity$variadic(arguments[0],arguments[1],arguments[2],c)};return l.cljs$core$IFn$_invoke$arity$variadic=function(o,n,t,a){const c=e.vec.call(null,o),u=e.count.call(null,c),r=n<0?e.max.call(null,0,u+n):e.min.call(null,n,u),d=e.min.call(null,t,u-r),y=e.subvec.call(null,c,0,r),b=e.subvec.call(null,c,e.min.call(null,u,r+d));return e.vec.call(null,e.concat.call(null,y,a,b))},l.cljs$lang$maxFixedArity=3,l.cljs$lang$applyTo=function(o){const n=e.first.call(null,o),t=e.next.call(null,o),a=e.first.call(null,t),c=e.next.call(null,t),u=e.first.call(null,c),r=e.next.call(null,c);return this.cljs$core$IFn$_invoke$arity$variadic(n,a,u,r)},l})(),Ge=function(l,o){const n=l,t=e.__destructure_map.call(null,n),a=t,c=e.get.call(null,t,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),u=e.get.call(null,t,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/field-types")),r=o,d=e.__destructure_map.call(null,r),y=e.get.call(null,d,e.keyword("drop-indicator")),b=e.get.call(null,d,e.keyword("dnd-event")),v=e.parse_uuid.call(null,b.dragClone.dataset.containerId),Q=e.parse_uuid.call(null,e.second.call(null,B.split.call(null,b.dragClone.dataset.id,/\|/))),h=(()=>{const p=b,_=p==null?null:p.dragClone,E=_==null?null:_.dataset,T=E==null?null:E.fieldType;return T==null?null:e.keyword.call(null,T)})(),G=e.sort_by.call(null,e.keyword("rank"),e.get_in.call(null,c,e.vector(v,e.keyword("fields")))),k=e.some.call(null,function(p){const _=p,E=e.nth.call(null,_,0,null),T=e.nth.call(null,_,1,null);if(e.truth_.call(null,e._EQ_.call(null,e.keyword("id").call(null,T),Q)))return E},e.map_indexed.call(null,e.vector,G)),s=(()=>{const p=b,_=p==null?null:p.dropTarget,E=_==null?null:_.dataset,T=E==null?null:E.id;return T==null?null:e.parse_uuid.call(null,T)})(),w=(()=>{const p=e.keyword("id").call(null,y),_=p==null?null:B.split.call(null,p,/\|/),E=_==null?null:e.second.call(null,_);return E==null?null:e.parse_uuid.call(null,E)})(),i=e.sort_by.call(null,e.keyword("rank"),e.get_in.call(null,c,e.vector(s,e.keyword("fields")))),m=e.some.call(null,function(p){const _=p,E=e.nth.call(null,_,0,null),T=e.nth.call(null,_,1,null);if(e.truth_.call(null,e._EQ_.call(null,e.keyword("id").call(null,T),w)))return E},e.map_indexed.call(null,e.vector,i)),g=e.truth_.call(null,e._EQ_.call(null,e.keyword("position").call(null,y),e.keyword("before")))?m:m+1,f=function(p){return e.map_indexed.call(null,function(_,E){return e.assoc.call(null,E,e.keyword("rank"),_+1)},p)},x=e.prn.call(null,e.hash_map(e.symbol.call(null,"target-field-id"),w,e.symbol.call(null,"source-field-id"),Q,e.symbol.call(null,"target-index"),m,e.symbol.call(null,"target-fields"),i,e.symbol.call(null,"source-container-id"),v,e.symbol.call(null,"insert-index"),g,e.symbol.call(null,"source-index"),k,e.symbol.call(null,"source-fields"),G,e.symbol.call(null,"template-items-id"),j,e.symbol.call(null,"target-container-id"),s)),$=e.truth_.call(null,(()=>{const p=s;return e.truth_.call(null,p)?e._EQ_.call(null,e.str.call(null,v),e.str.call(null,s)):p})())?(()=>{const p=f.call(null,F.call(null,F.call(null,i,k,1),g<=k?g:g-1,0,e.nth.call(null,G,k)));return e.assoc_in.call(null,a,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),s,e.keyword("fields")),p)})():e.truth_.call(null,(()=>{const p=s;if(e.truth_.call(null,p)){const _=e.str.call(null,v)!==e.str.call(null,s);return _&&e.str.call(null,v)!==e.str.call(null,j)}else return p})())?(()=>{const p=f.call(null,F.call(null,G,k,1)),_=f.call(null,F.call(null,i,g,0,e.nth.call(null,G,k)));return e.assoc_in.call(null,e.assoc_in.call(null,a,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),v,e.keyword("fields")),p),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),s,e.keyword("fields")),_)})():e.truth_.call(null,(()=>{const p=s;if(e.truth_.call(null,p)){const _=e.str.call(null,v)!==e.str.call(null,s);return _&&e._EQ_.call(null,e.str.call(null,v),e.str.call(null,j))}else return p})())?(()=>{const p=e.merge.call(null,e.some.call(null,function(E){if(e.truth_.call(null,e._EQ_.call(null,e.keyword("type").call(null,E),h)))return E},O.call(null,u)),e.array_map(e.keyword("id"),Q,e.keyword("name"),"New Field")),_=f.call(null,F.call(null,i,g,0,p));return e.assoc_in.call(null,a,e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),s,e.keyword("fields")),_)})():e.truth_.call(null,(()=>{const p=e.not.call(null,s);return e.truth_.call(null,p)?e.str.call(null,v)!==e.str.call(null,j):p})())||e.truth_.call(null,(()=>{const p=e.not.call(null,s);return e.truth_.call(null,p)?e._EQ_.call(null,e.str.call(null,v),e.str.call(null,j)):p})())?a:null;if(!e.truth_.call(null,$))throw e.ex_info.call(null,"Invalid condition",e.array_map());return e.dissoc.call(null,$,e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop-indicator"))},Ee=e.array_map(e.keyword("nodes"),e.hash_map(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type"),e.array_map(e.keyword("push"),A.call(null,we)),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/reset"),e.array_map(e.keyword("push"),A.call(null,ee)),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/init"),e.array_map(e.keyword("push"),ae),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/redo"),e.array_map(e.keyword("push"),Z),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save"),e.array_map(e.keyword("calc"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save")),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag"),e.array_map(e.keyword("push"),xe),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type-field"),e.array_map(e.keyword("push"),A.call(null,ge)),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future"),e.array_map(e.keyword("calc"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type"),e.array_map(e.keyword("push"),A.call(null,me)),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type-field"),e.array_map(e.keyword("push"),A.call(null,fe)),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/change-field-type"),e.array_map(e.keyword("push"),A.call(null,ve)),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/cancel-save"),e.array_map(e.keyword("push"),te),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/undo"),e.array_map(e.keyword("push"),Y),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-source"),e.array_map(e.keyword("calc"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-source")),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-start"),e.array_map(e.keyword("push"),X),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/select-content-type"),e.array_map(e.keyword("push"),H),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/update-content-type-fields"),e.array_map(e.keyword("push"),A.call(null,he)),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past"),e.array_map(e.keyword("calc"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/clear-selection"),e.array_map(e.keyword("push"),V),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection"),e.array_map(e.keyword("calc"),W),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop"),e.array_map(e.keyword("push"),Ge),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.array_map(e.keyword("calc"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/confirm-save"),e.array_map(e.keyword("push"),ne),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/request-save"),e.array_map(e.keyword("push"),le),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop-indicator"),e.array_map(e.keyword("calc"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop-indicator")),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/select-content-type-field"),e.array_map(e.keyword("push"),J),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/new-content-type"),e.array_map(e.keyword("push"),A.call(null,be))),e.keyword("edges"),e.vector(e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/cancel-save"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/change-field-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/change-field-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/change-field-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/clear-selection"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/confirm-save"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop-indicator")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drop-indicator")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type-field"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type-field"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/delete-content-type-field"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-start"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-source")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/init"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/new-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/new-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/new-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/redo"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/redo"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/redo"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type-field"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type-field"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/rename-content-type-field"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/update-content-type-fields"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/update-content-type-fields"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/drag-source")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/update-content-type-fields"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/update-content-type-fields"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/request-save"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/pending-save")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/reset"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/reset"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/reset"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/select-content-type"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/select-content-type-field"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/selection")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/undo"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/content-types-index")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/undo"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/future")),e.vector(e.keyword("rpub.plugins.content-types.admin.all-content-types-page/undo"),e.keyword("rpub.plugins.content-types.admin.all-content-types-page/past")))),qe=e.array_map(e.keyword("page-id"),e.keyword("all-content-types-page"),e.keyword("component"),ke,e.keyword("dag-config"),Ee);export{ce as __GT_content_type,ie as __GT_drop_indicator,O as __GT_field_config,D as __GT_unsaved_changes,te as cancel_save,ve as change_field_type,V as clear_selection,qe as config,ne as confirm_save,z as content_type_fields_item,K as content_type_fields_list,de as content_types_list,se as controls,Ee as dag_config,we as delete_content_type,ge as delete_content_type_field,_e as dnd_generate_id,R as dnd_item_id,ye as dnd_provider,xe as drag,X as drag_start,Ge as drop,C as drop_indicator_ui,L as field,re as header,ae as init,oe as inspector,be as new_content_type,ke as page,Z as redo,me as rename_content_type,fe as rename_content_type_field,le as request_save,ee as reset,pe as save_modal,H as select_content_type,J as select_content_type_field,W as selection,j as template_items_id,F as to_spliced,Y as undo,P as undo_keys,he as update_content_type_fields,ue as update_content_types_BANG_,I as update_unsaved_changes_BANG_,A as with_undo};
