import*as l from"cherry-cljs/cljs.core.js";import*as M from"rads.inflections";import*as v from"rpub.admin.impl";import*as m from"rpub.lib.html";var S=l.vector("January","February","March","April","May","June","July","August","September","October","November","December"),E=function(t){const a=t.getMonth(),e=t.getDate(),r=t.getFullYear(),n=t.getHours(),o=t.getMinutes(),c=l.get.call(null,S,a),u=n<12?"AM":"PM",_=l.mod.call(null,n,12),i=_===0?12:_,k=o<10?l.str.call(null,"0",o):l.str.call(null,o);return l.str.call(null,c," ",e,", ",r," ",i,":",k," ",u)},A=function(t){return l.str.call(null,"/admin/content-types/",l.name.call(null,l.get_in.call(null,t,l.vector(l.keyword("content-type"),l.keyword("slug")))),"/content-items/",l.name.call(null,l.get_in.call(null,t,l.vector(l.keyword("fields"),"Slug"))))},O=l.vector(l.array_map(l.keyword("name"),"Title",l.keyword("value"),function(t){const a=t,e=l.__destructure_map.call(null,a),r=e,n=l.get.call(null,e,l.keyword("fields"));return l.vector(l.keyword("a.underline"),l.array_map(l.keyword("href"),A.call(null,r)),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"font-semibold"),l.get.call(null,n,"Title")))}),l.array_map(l.keyword("name"),"Author",l.keyword("value"),function(t){const a=t,e=l.__destructure_map.call(null,a),n=l.get.call(null,e,l.keyword("created-by")),o=l.__destructure_map.call(null,n),c=l.get.call(null,o,l.keyword("username"));return l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"font-semibold"),c)}),l.array_map(l.keyword("name"),"Date",l.keyword("value"),function(t){const a=t,e=l.__destructure_map.call(null,a),r=l.get.call(null,e,l.keyword("created-at")),n=l.get.call(null,e,l.keyword("updated-at")),o=(()=>{const u=n;return l.truth_.call(null,u)?u:r})(),c=o==null?null:new Date(o);return c==null?null:E.call(null,c)})),f=function(t){return l.keyword("name").call(null,t)},z=function(t){const a=t,e=l.__destructure_map.call(null,a),r=e,n=l.get.call(null,e,l.keyword("field")),o=l.get.call(null,e,l.keyword("editing")),c=l.get.call(null,e,l.keyword("creating")),u=l.get.call(null,e,l.keyword("value")),_=l.get.call(null,e,l.keyword("on-change"));return l.vector(m.input2,(()=>{const i=l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("name"),l.keyword("name").call(null,n),l.keyword("on-change"),_),k=l.truth_.call(null,o)?l.assoc.call(null,i,l.keyword("value"),u):i;return l.truth_.call(null,c)?l.assoc.call(null,k,l.keyword("placeholder"),f.call(null,n)):k})())},C=function(t){const a=t,e=l.__destructure_map.call(null,a),r=l.get.call(null,e,l.keyword("field")),n=l.get.call(null,e,l.keyword("editing")),o=l.get.call(null,e,l.keyword("creating")),c=l.get.call(null,e,l.keyword("value"));return l.vector(m.textarea,(()=>{const u=l.array_map(l.keyword("name"),l.keyword("name").call(null,r),l.keyword("on-change"),l.prn),_=l.truth_.call(null,n)?l.assoc.call(null,u,l.keyword("value"),c):u;return l.truth_.call(null,o)?l.assoc.call(null,_,l.keyword("placeholder"),f.call(null,r)):_})())},F=function(t){return l.vector(l.keyword("select"))},I=function(t){return l.vector(l.keyword("input"),l.array_map(l.keyword("type"),l.keyword("datetime-local")))},U=function(t){return l.vector(l.keyword("input"),l.array_map(l.keyword("type"),l.keyword("number")))},b=function(t){const a=t,e=l.__destructure_map.call(null,a),r=l.get.call(null,e,l.keyword("content-item")),n=l.get.call(null,e,l.keyword("editing")),o=l.get.call(null,e,l.keyword("creating")),c=l.get.call(null,e,l.keyword("field-types")),u=r,_=l.__destructure_map.call(null,u),i=l.get.call(null,_,l.keyword("content-type"));return l.vector(l.keyword("div"),function h(N){return new l.LazySeq(null,function(){let q=N;for(;;){const x=l.seq.call(null,q);if(l.truth_.call(null,x)){const p=x;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,p))){const d=l.chunk_first.call(null,p),w=l.count.call(null,d),g=l.chunk_buffer.call(null,w);return(()=>{let s=0;for(;;){if(s<w){const y=l._nth.call(null,d,s),G=l.get_in.call(null,r,l.vector(l.keyword("document"),l.keyword("id").call(null,y))),J=l.truth_.call(null,l._EQ_.call(null,G,l.keyword("rpub.plugins.content-types.admin.single-content-item-page/new-field")))?"":G;l.chunk_append.call(null,g,l.vector(l.keyword("div.max-w-xl.mb-4"),l.array_map(l.keyword("key"),l.keyword("id").call(null,y)),l.vector(l.keyword("label.font-semibold.mb-1.block"),l.array_map(l.keyword("for"),l.keyword("name").call(null,y)),l.keyword("name").call(null,y)),l.vector(l.keyword("div"),m.custom_element.call(null,l.vector(l.get_in.call(null,c,l.vector(l.keyword("type").call(null,y),l.keyword("input"))),l.array_map(l.keyword("field"),y,l.keyword("value"),J,l.keyword("on-change"),function(L){return l.prn.call(null,L.target.value)},l.keyword("editing"),n,l.keyword("creating"),o)))))),s=l.unchecked_inc.call(null,s);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,g),h.call(null,l.chunk_rest.call(null,p))):l.chunk_cons.call(null,l.chunk.call(null,g),null)}else{const d=l.first.call(null,p),w=l.get_in.call(null,r,l.vector(l.keyword("document"),l.keyword("id").call(null,d))),g=l.truth_.call(null,l._EQ_.call(null,w,l.keyword("rpub.plugins.content-types.admin.single-content-item-page/new-field")))?"":w;return l.cons.call(null,l.vector(l.keyword("div.max-w-xl.mb-4"),l.array_map(l.keyword("key"),l.keyword("id").call(null,d)),l.vector(l.keyword("label.font-semibold.mb-1.block"),l.array_map(l.keyword("for"),l.keyword("name").call(null,d)),l.keyword("name").call(null,d)),l.vector(l.keyword("div"),m.custom_element.call(null,l.vector(l.get_in.call(null,c,l.vector(l.keyword("type").call(null,d),l.keyword("input"))),l.array_map(l.keyword("field"),d,l.keyword("value"),g,l.keyword("on-change"),function(s){return l.prn.call(null,s.target.value)},l.keyword("editing"),n,l.keyword("creating"),o))))),h.call(null,l.rest.call(null,p)))}}break}},null,null)}.call(null,l.sort_by.call(null,l.keyword("rank"),l.keyword("fields").call(null,i))))},Q=function(t){const a=t,e=l.__destructure_map.call(null,a),r=l.get.call(null,e,l.keyword("content-type")),n=l.get.call(null,e,l.keyword("field-types")),o=l.array_map(l.keyword("content-type"),r,l.keyword("document"),l.into.call(null,l.array_map(),l.map.call(null,function(u){return l.vector(l.keyword("id").call(null,u),l.keyword("rpub.plugins.content-types.admin.single-content-item-page/new-field"))},l.keyword("fields").call(null,r))));return l.vector(l.keyword("div.p-4"),l.vector(v.box,l.array_map(l.keyword("class"),"mb-4",l.keyword("title"),l.str.call(null,"New ",M.singular.call(null,l.get_in.call(null,o,l.vector(l.keyword("content-type"),l.keyword("name"))))))),l.vector(v.box,l.array_map(l.keyword("content"),l.vector(l.keyword("div"),l.vector(b,l.array_map(l.keyword("content-item"),o,l.keyword("field-types"),n,l.keyword("creating"),!0)),l.vector(m.submit_button,l.array_map(l.keyword("ready-label"),"Create",l.keyword("submit-label"),"Creating...",l.keyword("submitting"),!1))))))},T=function(t){const a=t,e=l.__destructure_map.call(null,a),r=l.get.call(null,e,l.keyword("content-type")),n=l.get.call(null,e,l.keyword("content-item")),o=l.get.call(null,e,l.keyword("field-types"));return l.vector(l.keyword("div.p-4"),l.vector(v.box,l.array_map(l.keyword("class"),"mb-4",l.keyword("title"),l.vector(l.keyword("div"),l.vector(l.keyword("span.italic.text-blue-600"),l.str.call(null,M.singular.call(null,l.keyword("name").call(null,r)),": ")),l.get_in.call(null,n,l.vector(l.keyword("fields"),"Title"))))),l.vector(v.box,l.array_map(l.keyword("content"),l.vector(l.keyword("div"),l.vector(b,l.array_map(l.keyword("content-item"),n,l.keyword("field-types"),o,l.keyword("editing"),!0)),l.vector(m.submit_button,l.array_map(l.keyword("ready-label"),"Save",l.keyword("submit-label"),"Saving...",l.keyword("submitting"),!1))))))},D=function(t){const a=t,e=l.__destructure_map.call(null,a),r=e,n=l.get.call(null,e,l.keyword("editing"));return l.truth_.call(null,n)?l.vector(T,r):l.vector(Q,r)},H=l.array_map(l.keyword("page-id"),l.keyword("single-content-item-page"),l.keyword("component"),D);export{O as columns,H as config,b as content_item_fields,T as edit_content_item_page,A as edit_content_item_path,f as field_type_label,E as format_datetime,S as months,Q as new_content_item_page,F as rpub_field_types_choice,I as rpub_field_types_datetime,U as rpub_field_types_number,z as rpub_field_types_text,C as rpub_field_types_text_lg,D as single_content_item_page};
