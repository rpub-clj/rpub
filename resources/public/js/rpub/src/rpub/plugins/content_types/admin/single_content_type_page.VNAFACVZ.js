import*as l from"cherry-cljs/cljs.core.js";import*as _ from"rads.inflections";import*as g from"rpub.lib.html";import*as v from"rpub.plugins.admin.impl";var m=l.vector("January","February","March","April","May","June","July","August","September","October","November","December"),d=function(e){const o=e.getMonth(),t=e.getDate(),n=e.getFullYear(),r=e.getHours(),a=e.getMinutes(),c=l.get.call(null,m,o),u=r<12?"AM":"PM",s=l.mod.call(null,r,12),k=s===0?12:s,f=a<10?l.str.call(null,"0",a):l.str.call(null,a);return l.str.call(null,c," ",t,", ",n," ",k,":",f," ",u)},y=function(e){return l.str.call(null,"/admin/content-types/",l.name.call(null,l.get_in.call(null,e,l.vector(l.keyword("content-type"),l.keyword("slug")))),"/content-items/",l.name.call(null,l.get_in.call(null,e,l.vector(l.keyword("fields"),"Slug"))))},i=l.vector(l.array_map(l.keyword("name"),"Title",l.keyword("value"),function(e){const o=e,t=l.__destructure_map.call(null,o),n=t,r=l.get.call(null,t,l.keyword("fields"));return l.vector(l.keyword("a.underline"),l.array_map(l.keyword("href"),y.call(null,n)),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"font-semibold"),l.get.call(null,r,"Title")))}),l.array_map(l.keyword("name"),"Author",l.keyword("value"),function(e){const o=e,t=l.__destructure_map.call(null,o),r=l.get.call(null,t,l.keyword("created-by")),a=l.__destructure_map.call(null,r),c=l.get.call(null,a,l.keyword("username"));return l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"font-semibold"),c)}),l.array_map(l.keyword("name"),"Date",l.keyword("value"),function(e){const o=e,t=l.__destructure_map.call(null,o),n=l.get.call(null,t,l.keyword("created-at")),r=l.get.call(null,t,l.keyword("updated-at")),a=(()=>{const u=r;return l.truth_.call(null,u)?u:n})(),c=a==null?null:new Date(a);return c==null?null:d.call(null,c)})),p=function(e){return l.str.call(null,"/admin/content-types/",l.name.call(null,l.keyword("slug").call(null,e)),"/content-items/new")},w=function(e){const o=e,t=l.__destructure_map.call(null,o),n=l.get.call(null,t,l.keyword("content-type")),r=l.get.call(null,t,l.keyword("content-items")),a=l.map.call(null,function(u){return l.update.call(null,u,l.keyword("fields"),function(s){return l.update_keys.call(null,s,l.name)})},r),c=l.map.call(null,function(u){return l.assoc.call(null,u,l.keyword("content-type"),n)},a);return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4"),l.vector(v.table,l.array_map(l.keyword("title"),_.plural.call(null,l.keyword("name").call(null,n)),l.keyword("columns"),i,l.keyword("rows"),c,l.keyword("header-buttons"),l.vector(l.keyword("a"),l.array_map(l.keyword("href"),p.call(null,n)),l.vector(g.action_button,l.str.call(null,"New ",_.singular.call(null,l.keyword("name").call(null,n))))))))},h=l.array_map(l.keyword("page-id"),l.keyword("single-content-type-page"),l.keyword("component"),w);export{i as columns,h as config,y as edit_content_item_path,d as format_datetime,m as months,p as new_content_item_path,w as single_content_type_page};
