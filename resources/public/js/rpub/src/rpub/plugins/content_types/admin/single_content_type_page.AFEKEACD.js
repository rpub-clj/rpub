import*as e from"cherry-cljs/cljs.core.js";import*as _ from"rads.inflections";import*as g from"rpub.lib.html";import*as v from"rpub.plugins.admin.helpers";var m=e.vector("January","February","March","April","May","June","July","August","September","October","November","December"),d=function(l){const o=l.getMonth(),t=l.getDate(),n=l.getFullYear(),r=l.getHours(),a=l.getMinutes(),c=e.get.call(null,m,o),u=r<12?"AM":"PM",s=e.mod.call(null,r,12),k=s===0?12:s,f=a<10?e.str.call(null,"0",a):e.str.call(null,a);return e.str.call(null,c," ",t,", ",n," ",k,":",f," ",u)},y=function(l){return e.str.call(null,"/admin/content-types/",e.name.call(null,e.get_in.call(null,l,e.vector(e.keyword("content-type"),e.keyword("slug")))),"/content-items/",e.name.call(null,e.get_in.call(null,l,e.vector(e.keyword("fields"),"Slug"))))},p=e.vector(e.array_map(e.keyword("name"),"Title",e.keyword("value"),function(l){const o=l,t=e.__destructure_map.call(null,o),n=t,r=e.get.call(null,t,e.keyword("fields"));return e.vector(e.keyword("a.underline"),e.array_map(e.keyword("href"),y.call(null,n)),e.vector(e.keyword("span"),e.array_map(e.keyword("class"),"font-semibold"),e.get.call(null,r,"Title")))}),e.array_map(e.keyword("name"),"Author",e.keyword("value"),function(l){const o=l,t=e.__destructure_map.call(null,o),r=e.get.call(null,t,e.keyword("created-by")),a=e.__destructure_map.call(null,r),c=e.get.call(null,a,e.keyword("username"));return e.vector(e.keyword("span"),e.array_map(e.keyword("class"),"font-semibold"),c)}),e.array_map(e.keyword("name"),"Date",e.keyword("value"),function(l){const o=l,t=e.__destructure_map.call(null,o),n=e.get.call(null,t,e.keyword("created-at")),r=e.get.call(null,t,e.keyword("updated-at")),a=(()=>{const u=r;return e.truth_.call(null,u)?u:n})(),c=a==null?null:new Date(a);return c==null?null:d.call(null,c)})),i=function(l){return e.str.call(null,"/admin/content-types/",e.name.call(null,e.keyword("slug").call(null,l)),"/content-items/new")},w=function(l){const o=l,t=e.__destructure_map.call(null,o),n=e.get.call(null,t,e.keyword("content-type")),r=e.get.call(null,t,e.keyword("content-items")),a=e.map.call(null,function(u){return e.update.call(null,u,e.keyword("fields"),function(s){return e.update_keys.call(null,s,e.name)})},r),c=e.map.call(null,function(u){return e.assoc.call(null,u,e.keyword("content-type"),n)},a);return e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"p-4"),e.vector(v.table,e.array_map(e.keyword("title"),_.plural.call(null,e.keyword("name").call(null,n)),e.keyword("columns"),p,e.keyword("rows"),c,e.keyword("header-buttons"),e.vector(e.keyword("a"),e.array_map(e.keyword("href"),i.call(null,n)),e.vector(g.action_button,e.str.call(null,"New ",_.singular.call(null,e.keyword("name").call(null,n))))))))},h=e.array_map(e.keyword("page-id"),e.keyword("single-content-type-page"),e.keyword("component"),w);export{p as columns,h as config,y as edit_content_item_path,d as format_datetime,m as months,i as new_content_item_path,w as single_content_type_page};
