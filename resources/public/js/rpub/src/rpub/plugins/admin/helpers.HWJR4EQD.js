import*as l from"cherry-cljs/cljs.core.js";import*as B from"flowbite";import{useEffect as C}from"react";import*as D from"cherry-cljs/lib/clojure.string.js";import*as S from"rads.inflections";import*as H from"rpub.lib.html";import*as J from"rpub.lib.http";import*as P from"rpub.lib.reagent";var T=function(e){const r=l.array_map(l.keyword("portal.viewer/default"),l.keyword("portal.viewer/pprint")),n=function(u){return l.truth_.call(null,l.coll_QMARK_.call(null,u))?l.with_meta.call(null,u,r):u},t=l.update.call(null,l.update.call(null,l.dissoc.call(null,e,l.keyword("key")),l.keyword("args"),function(u){return l.map.call(null,n,u)}),l.keyword("ret"),n);return l.vector(l.keyword("key").call(null,e),t)},V=l.comp.call(null,l.map.call(null,T),l.map.call(null,l.tap_GT_)),N=function(e){return function(r){return C.call(null,function(){return B.initFlowbite.call(null)},[]),P.as_element.call(null,l.vector(e,r))}},W=function(e){const r=e,n=l.__destructure_map.call(null,r),t=n,u=l.get.call(null,n,l.keyword("page-id")),w=l.get.call(null,n,l.keyword("component")),f=N.call(null,w);return H.add_element.call(null,u,f,l.array_map(l.keyword("format"),l.keyword("transit")))},O=(()=>{const e=function(r){switch(l.alength.call(null,arguments)){case 1:return e.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return e.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw new Error(l.str.call(null,"Invalid arity: ",l.alength.call(null,arguments)))}};return e.cljs$core$IFn$_invoke$arity$1=function(r){return O.call(null,r,l.keys.call(null,l.keyword("inputs").call(null,r)))},e.cljs$core$IFn$_invoke$arity$2=function(r,n){return l.update_vals.call(null,l.select_keys.call(null,l.keyword("inputs").call(null,r),n),l.keyword("value"))},e.cljs$lang$maxFixedArity=2,e})();if(!(typeof K<"u"))var K=l.random_uuid.call(null);var X=function(e,r){return l.array_map(l.keyword("client-id"),K,l.keyword("key"),e,l.keyword("value"),r)},Y=function(e){const r=l.array_map(l.keyword("format"),l.keyword("transit"),l.keyword("body"),e,l.keyword("on-complete"),function(n,t){if(l.truth_.call(null,t))return console.log(t)});return J.post.call(null,"/admin/api/update-unsaved-changes",r)},Z=function(e){const r=e,n=l.__destructure_map.call(null,r),t=l.get.call(null,n,l.keyword("title")),u=l.get.call(null,n,l.keyword("rows")),w=l.get.call(null,n,l.keyword("description")),f=l.get.call(null,n,l.keyword("header-buttons")),$=l.get.call(null,n,l.keyword("columns")),q=l.get.call(null,n,l.keyword("delete-row"));return l.vector(l.keyword("section"),l.array_map(l.keyword("class"),"bg-gray-50 antialiased"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"bg-white relative shadow-sm sm:rounded-lg overflow-hidden"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"w-full md:w-1/2"),l.vector(l.keyword("h2"),l.array_map(l.keyword("class"),"text-3xl font-semibold font-app-serif"),t),l.truth_.call(null,w)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mt-4"),w):null),l.truth_.call(null,f)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"),f):null),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"overflow-x-auto"),l.vector(l.keyword("table"),l.array_map(l.keyword("class"),"w-full text-sm text-left text-gray-500"),l.vector(l.keyword("thead"),l.array_map(l.keyword("class"),"text-xs text-gray-700 uppercase bg-gray-50"),l.vector(l.keyword("tr"),function o(v){return new l.LazySeq(null,function(){let s=v;for(;;){const y=l.seq.call(null,s);if(l.truth_.call(null,y)){const a=y;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,a))){const _=l.chunk_first.call(null,a),d=l.count.call(null,_),c=l.chunk_buffer.call(null,d);return(()=>{let k=0;for(;;){if(k<d){const g=l._nth.call(null,_,k);l.chunk_append.call(null,c,l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"p-4",l.keyword("scope"),"col",l.keyword("key"),l.keyword("name").call(null,g)),l.keyword("name").call(null,g))),k=l.unchecked_inc.call(null,k);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,c),o.call(null,l.chunk_rest.call(null,a))):l.chunk_cons.call(null,l.chunk.call(null,c),null)}else{const _=l.first.call(null,a);return l.cons.call(null,l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"p-4",l.keyword("scope"),"col",l.keyword("key"),l.keyword("name").call(null,_)),l.keyword("name").call(null,_)),o.call(null,l.rest.call(null,a)))}}break}},null,null)}.call(null,$),l.truth_.call(null,q)?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("scope"),"col"),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"sr-only"),"Actions")):null)),l.vector(l.keyword("tbody"),function o(v){return new l.LazySeq(null,function(){let s=v;for(;;){const y=l.seq.call(null,s);if(l.truth_.call(null,y)){const a=y;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,a))){const _=l.chunk_first.call(null,a),d=l.count.call(null,_),c=l.chunk_buffer.call(null,d);return(()=>{let k=0;for(;;){if(k<d){const g=l._nth.call(null,_,k),j=l.nth.call(null,g,0,null),G=l.nth.call(null,g,1,null);l.chunk_append.call(null,c,l.vector(l.keyword("tr"),l.array_map(l.keyword("class"),l.truth_.call(null,l.not_EQ_.call(null,j,0))?"border-t border-gray-200":null,l.keyword("key"),l.keyword("id").call(null,G)),function b(A){return new l.LazySeq(null,function(){let i=A;for(;;){const Q=l.seq.call(null,i);if(l.truth_.call(null,Q)){const x=Q;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,x))){const E=l.chunk_first.call(null,x),m=l.count.call(null,E),h=l.chunk_buffer.call(null,m);return(()=>{let I=0;for(;;){if(I<m){const R=l._nth.call(null,E,I),U=l.nth.call(null,R,0,null),L=l.nth.call(null,R,1,null);l.chunk_append.call(null,h,l.truth_.call(null,l._EQ_.call(null,U,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,L)),l.keyword("value").call(null,L).call(null,G)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,L)),l.keyword("value").call(null,L).call(null,G))),I=l.unchecked_inc.call(null,I);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,h),b.call(null,l.chunk_rest.call(null,x))):l.chunk_cons.call(null,l.chunk.call(null,h),null)}else{const E=l.first.call(null,x),m=l.nth.call(null,E,0,null),h=l.nth.call(null,E,1,null);return l.cons.call(null,l.truth_.call(null,l._EQ_.call(null,m,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,h)),l.keyword("value").call(null,h).call(null,G)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,h)),l.keyword("value").call(null,h).call(null,G)),b.call(null,l.rest.call(null,x)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,$)))),k=l.unchecked_inc.call(null,k);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,c),o.call(null,l.chunk_rest.call(null,a))):l.chunk_cons.call(null,l.chunk.call(null,c),null)}else{const _=l.first.call(null,a),d=l.nth.call(null,_,0,null),c=l.nth.call(null,_,1,null);return l.cons.call(null,l.vector(l.keyword("tr"),l.array_map(l.keyword("class"),l.truth_.call(null,l.not_EQ_.call(null,d,0))?"border-t border-gray-200":null,l.keyword("key"),l.keyword("id").call(null,c)),function g(j){return new l.LazySeq(null,function(){let G=j;for(;;){const F=l.seq.call(null,G);if(l.truth_.call(null,F)){const z=F;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,z))){const b=l.chunk_first.call(null,z),A=l.count.call(null,b),i=l.chunk_buffer.call(null,A);return(()=>{let Q=0;for(;;){if(Q<A){const x=l._nth.call(null,b,Q),E=l.nth.call(null,x,0,null),m=l.nth.call(null,x,1,null);l.chunk_append.call(null,i,l.truth_.call(null,l._EQ_.call(null,E,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,m)),l.keyword("value").call(null,m).call(null,c)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,m)),l.keyword("value").call(null,m).call(null,c))),Q=l.unchecked_inc.call(null,Q);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,i),g.call(null,l.chunk_rest.call(null,z))):l.chunk_cons.call(null,l.chunk.call(null,i),null)}else{const b=l.first.call(null,z),A=l.nth.call(null,b,0,null),i=l.nth.call(null,b,1,null);return l.cons.call(null,l.truth_.call(null,l._EQ_.call(null,A,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,i)),l.keyword("value").call(null,i).call(null,c)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,i)),l.keyword("value").call(null,i).call(null,c)),g.call(null,l.rest.call(null,z)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,$))),o.call(null,l.rest.call(null,a)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,u)))))))},ll=function(e){const r=e,n=l.__destructure_map.call(null,r),t=l.get.call(null,n,l.keyword("title")),u=l.get.call(null,n,l.keyword("content")),w=l.get.call(null,n,l.keyword("class")),f=l.get.call(null,n,l.keyword("selected")),$=l.get.call(null,n,l.keyword("on-drag-over")),q=l.get.call(null,n,l.keyword("on-drop")),p=l.get.call(null,n,l.keyword("on-click")),o=l.get.call(null,n,l.keyword("hover"));return l.vector(l.keyword("section"),l.array_map(l.keyword("class"),l.str.call(null,"bg-gray-50 antialiased ",w),l.keyword("on-click"),p,l.keyword("on-drag-over"),$,l.keyword("on-drop"),q),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"h-full border bg-white relative shadow-sm sm:rounded-lg md:overflow-auto ",l.truth_.call(null,f)?"ring-2 ring-blue-400 border-blue-500":"border-white"," ",l.truth_.call(null,o)?"hover:border-blue-500":null)),l.truth_.call(null,t)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-6"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"w-full"),l.vector(l.keyword("h2"),l.array_map(l.keyword("class"),"text-3xl font-semibold font-app-serif"),t))):null,l.truth_.call(null,u)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"md:overflow-auto p-6 ",l.truth_.call(null,t)?"pt-0":null)),u):null))},nl=function(e,r){return D.split.call(null,S.pluralize.call(null,l.count.call(null,e),S.singular.call(null,r)),/ /)},M=function(e){const r=e,n=l.__destructure_map.call(null,r),t=l.get.call(null,n,l.keyword("content-type"));return S.pluralize.call(null,l.keyword("content-item-count").call(null,t),S.singular.call(null,l.keyword("name").call(null,t)))},el=function(e){const r=e,n=l.__destructure_map.call(null,r),t=l.get.call(null,n,l.keyword("content-types"));return l.vector(l.keyword("ul"),function w(f){return new l.LazySeq(null,function(){let $=f;for(;;){const q=l.seq.call(null,$);if(l.truth_.call(null,q)){const p=q;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,p))){const o=l.chunk_first.call(null,p),v=l.count.call(null,o),s=l.chunk_buffer.call(null,v);return(()=>{let y=0;for(;;){if(y<v){const a=l._nth.call(null,o,y),_=l.nth.call(null,a,0,null),d=l.nth.call(null,a,1,null);l.chunk_append.call(null,s,l.vector(l.keyword("span"),l.array_map(l.keyword("key"),l.keyword("id").call(null,d)),l.truth_.call(null,l._EQ_.call(null,_,0))?null:l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-300")," \u2022 "),l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline text-nowrap font-semibold",l.keyword("href"),l.str.call(null,"/admin/content-types/",l.name.call(null,l.keyword("slug").call(null,d)))),l.vector(M,l.array_map(l.keyword("content-type"),d))))),y=l.unchecked_inc.call(null,y);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,s),w.call(null,l.chunk_rest.call(null,p))):l.chunk_cons.call(null,l.chunk.call(null,s),null)}else{const o=l.first.call(null,p),v=l.nth.call(null,o,0,null),s=l.nth.call(null,o,1,null);return l.cons.call(null,l.vector(l.keyword("span"),l.array_map(l.keyword("key"),l.keyword("id").call(null,s)),l.truth_.call(null,l._EQ_.call(null,v,0))?null:l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-300")," \u2022 "),l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline text-nowrap font-semibold",l.keyword("href"),l.str.call(null,"/admin/content-types/",l.name.call(null,l.keyword("slug").call(null,s)))),l.vector(M,l.array_map(l.keyword("content-type"),s)))),w.call(null,l.rest.call(null,p)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,l.sort_by.call(null,l.keyword("name"),t))))},rl=function(e,r){return l.into.call(null,l.array_map(),l.map.call(null,function(n){return l.vector(e.call(null,n),n)},r))};export{X as __GT_unsaved_changes,W as add_page,ll as box,K as client_id,M as content_item_count_text,el as content_item_counts,O as field_values,rl as index_by,T as node__GT_trace,nl as pluralize,Z as table,V as tracing_xf,Y as update_unsaved_changes_BANG_,N as wrap_component};
