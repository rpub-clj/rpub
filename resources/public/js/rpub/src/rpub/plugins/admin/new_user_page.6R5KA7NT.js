import*as e from"cherry-cljs/cljs.core.js";import{use_dag as A}from"rpub.lib.dag.react";import*as w from"rpub.lib.html";import*as C from"rpub.plugins.admin.impl";var b=function(l){const r=A.call(null,e.vector(e.keyword("rpub.plugins.admin.new-user-page/field-values"),e.keyword("rpub.plugins.admin.new-user-page/submitting"))),a=e.nth.call(null,r,0,null),c=e.__destructure_map.call(null,a),o=e.get.call(null,c,e.keyword("rpub.plugins.admin.new-user-page/field-values")),x=e.get.call(null,c,e.keyword("rpub.plugins.admin.new-user-page/submitting")),j=e.nth.call(null,r,1,null),F=function(p){return e.prn.call(null,o)},I=e.vector(e.array_map(e.keyword("key"),e.keyword("username"),e.keyword("label"),"Username"),e.array_map(e.keyword("key"),e.keyword("password"),e.keyword("label"),"Password"),e.array_map(e.keyword("key"),e.keyword("roles"),e.keyword("label"),"Roles")),m=function(p,i){const k=i.target.value;return j.call(null,e.keyword("rpub.plugins.admin.new-user-page/change-input"),e.vector(p,k))};return e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"p-4"),e.vector(C.box,e.array_map(e.keyword("title"),"New User",e.keyword("content"),e.vector(e.keyword("section"),e.array_map(e.keyword("class"),"bg-white"),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"max-w-2xl"),e.vector(e.keyword("form"),e.array_map(e.keyword("on-submit"),F),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"grid gap-4 sm:grid-cols-2 sm:gap-6"),function i(k){return new e.LazySeq(null,function(){let G=k;for(;;){const g=e.seq.call(null,G);if(e.truth_.call(null,g)){const t=g;if(e.truth_.call(null,e.chunked_seq_QMARK_.call(null,t))){const n=e.chunk_first.call(null,t),d=e.count.call(null,n),s=e.chunk_buffer.call(null,d);return(()=>{let y=0;for(;;){if(y<d){const u=e._nth.call(null,n,y),q=e.get.call(null,o,e.keyword("key").call(null,u),e.keyword("value").call(null,u));e.chunk_append.call(null,s,e.vector(e.keyword("div"),e.array_map(e.keyword("key"),e.str.call(null,e.keyword("key").call(null,u)),e.keyword("class"),"sm:col-span-2"),e.vector(e.keyword("label"),e.array_map(e.keyword("class"),"block mb-2 text-sm font-semibold text-gray-900",e.keyword("for"),"name"),e.keyword("label").call(null,u)),e.vector(w.input2,e.array_map(e.keyword("type"),e.keyword("text"),e.keyword("name"),e.keyword("key").call(null,u),e.keyword("value"),q,e.keyword("on-change"),function(z){return m.call(null,e.keyword("key").call(null,u),z)})))),y=e.unchecked_inc.call(null,y);continue}else return!0;break}})()?e.chunk_cons.call(null,e.chunk.call(null,s),i.call(null,e.chunk_rest.call(null,t))):e.chunk_cons.call(null,e.chunk.call(null,s),null)}else{const n=e.first.call(null,t),d=e.get.call(null,o,e.keyword("key").call(null,n),e.keyword("value").call(null,n));return e.cons.call(null,e.vector(e.keyword("div"),e.array_map(e.keyword("key"),e.str.call(null,e.keyword("key").call(null,n)),e.keyword("class"),"sm:col-span-2"),e.vector(e.keyword("label"),e.array_map(e.keyword("class"),"block mb-2 text-sm font-semibold text-gray-900",e.keyword("for"),"name"),e.keyword("label").call(null,n)),e.vector(w.input2,e.array_map(e.keyword("type"),e.keyword("text"),e.keyword("name"),e.keyword("key").call(null,n),e.keyword("value"),d,e.keyword("on-change"),function(s){return m.call(null,e.keyword("key").call(null,n),s)}))),i.call(null,e.rest.call(null,t)))}}break}},null,null)}.call(null,I),e.vector(w.submit_button,e.array_map(e.keyword("ready-label"),"Create",e.keyword("submit-label"),"Creating...",e.keyword("submitting"),x)))))))))},v=function(l,r){const a=r,c=e.nth.call(null,a,0,null),o=e.nth.call(null,a,1,null);return e.assoc_in.call(null,l,e.vector(e.keyword("rpub.plugins.admin.new-user-page/inputs"),c,e.keyword("value")),o)},f=function(l){return e.assoc.call(null,l,e.keyword("rpub.plugins.admin.new-user-page/submitting"),!1)},h=function(l){return e.assoc.call(null,l,e.keyword("rpub.plugins.admin.new-user-page/submitting"),!0)},_=(()=>{const l=function(r){switch(e.alength.call(null,arguments)){case 1:return l.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return l.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw new Error(e.str.call(null,"Invalid arity: ",e.alength.call(null,arguments)))}};return l.cljs$core$IFn$_invoke$arity$1=function(r){return _.call(null,r,e.keys.call(null,e.keyword("rpub.plugins.admin.new-user-page/inputs").call(null,r)))},l.cljs$core$IFn$_invoke$arity$2=function(r,a){return e.update_vals.call(null,e.select_keys.call(null,e.keyword("rpub.plugins.admin.new-user-page/inputs").call(null,r),a),e.keyword("value"))},l.cljs$lang$maxFixedArity=2,l})(),$=e.array_map(e.keyword("nodes"),e.array_map(e.keyword("rpub.plugins.admin.new-user-page/change-input"),e.array_map(e.keyword("push"),v),e.keyword("rpub.plugins.admin.new-user-page/field-values"),e.array_map(e.keyword("calc"),_),e.keyword("rpub.plugins.admin.new-user-page/submit-error"),e.array_map(e.keyword("push"),f),e.keyword("rpub.plugins.admin.new-user-page/submit-start"),e.array_map(e.keyword("push"),h),e.keyword("rpub.plugins.admin.new-user-page/submitting"),e.array_map(e.keyword("calc"),e.keyword("rpub.plugins.admin.new-user-page/submitting"))),e.keyword("edges"),e.vector(e.vector(e.keyword("rpub.plugins.admin.new-user-page/change-input"),e.keyword("rpub.plugins.admin.new-user-page/field-values")),e.vector(e.keyword("rpub.plugins.admin.new-user-page/submit-error"),e.keyword("rpub.plugins.admin.new-user-page/submitting")),e.vector(e.keyword("rpub.plugins.admin.new-user-page/submit-start"),e.keyword("rpub.plugins.admin.new-user-page/submitting")))),R=e.array_map(e.keyword("page-id"),e.keyword("new-user-page"),e.keyword("component"),b,e.keyword("dag-config"),$);export{v as change_input,R as config,$ as dag_config,_ as field_values,b as page,f as submit_error,h as submit_start};
