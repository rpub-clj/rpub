import*as l from"cherry-cljs/cljs.core.js";import*as B from"cherry-cljs/lib/clojure.string.js";import*as S from"rads.inflections";import*as O from"rpub.lib.http";var N=(()=>{const e=function(r){switch(l.alength.call(null,arguments)){case 1:return e.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return e.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw new Error(l.str.call(null,"Invalid arity: ",l.alength.call(null,arguments)))}};return e.cljs$core$IFn$_invoke$arity$1=function(r){return N.call(null,r,l.keys.call(null,l.keyword("inputs").call(null,r)))},e.cljs$core$IFn$_invoke$arity$2=function(r,n){return l.update_vals.call(null,l.select_keys.call(null,l.keyword("inputs").call(null,r),n),l.keyword("value"))},e.cljs$lang$maxFixedArity=2,e})();if(!(typeof K<"u"))var K=l.random_uuid.call(null);var U=function(e,r){return l.array_map(l.keyword("client-id"),K,l.keyword("key"),e,l.keyword("value"),r)},C=function(e){const r=l.array_map(l.keyword("format"),l.keyword("transit"),l.keyword("body"),e,l.keyword("on-complete"),function(n,a){if(l.truth_.call(null,a))return console.log(a)});return O.post.call(null,"/admin/api/update-unsaved-changes",r)},D=function(e){const r=e,n=l.__destructure_map.call(null,r),a=l.get.call(null,n,l.keyword("title")),j=l.get.call(null,n,l.keyword("rows")),g=l.get.call(null,n,l.keyword("description")),G=l.get.call(null,n,l.keyword("header-buttons")),x=l.get.call(null,n,l.keyword("columns")),z=l.get.call(null,n,l.keyword("delete-row"));return l.vector(l.keyword("section"),l.array_map(l.keyword("class"),"bg-gray-50 antialiased"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"bg-white relative shadow-sm sm:rounded-lg overflow-hidden"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"w-full md:w-1/2"),l.vector(l.keyword("h2"),l.array_map(l.keyword("class"),"text-3xl font-semibold font-app-serif"),a),l.truth_.call(null,g)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mt-4"),g):null),l.truth_.call(null,G)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"),G):null),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"overflow-x-auto"),l.vector(l.keyword("table"),l.array_map(l.keyword("class"),"w-full text-sm text-left text-gray-500"),l.vector(l.keyword("thead"),l.array_map(l.keyword("class"),"text-xs text-gray-700 uppercase bg-gray-50"),l.vector(l.keyword("tr"),function u(m){return new l.LazySeq(null,function(){let _=m;for(;;){const d=l.seq.call(null,_);if(l.truth_.call(null,d)){const c=d;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,c))){const o=l.chunk_first.call(null,c),s=l.count.call(null,o),t=l.chunk_buffer.call(null,s);return(()=>{let y=0;for(;;){if(y<s){const h=l._nth.call(null,o,y);l.chunk_append.call(null,t,l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"p-4",l.keyword("scope"),"col",l.keyword("key"),l.keyword("name").call(null,h)),l.keyword("name").call(null,h))),y=l.unchecked_inc.call(null,y);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,t),u.call(null,l.chunk_rest.call(null,c))):l.chunk_cons.call(null,l.chunk.call(null,t),null)}else{const o=l.first.call(null,c);return l.cons.call(null,l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"p-4",l.keyword("scope"),"col",l.keyword("key"),l.keyword("name").call(null,o)),l.keyword("name").call(null,o)),u.call(null,l.rest.call(null,c)))}}break}},null,null)}.call(null,x),l.truth_.call(null,z)?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("scope"),"col"),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"sr-only"),"Actions")):null)),l.vector(l.keyword("tbody"),function u(m){return new l.LazySeq(null,function(){let _=m;for(;;){const d=l.seq.call(null,_);if(l.truth_.call(null,d)){const c=d;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,c))){const o=l.chunk_first.call(null,c),s=l.count.call(null,o),t=l.chunk_buffer.call(null,s);return(()=>{let y=0;for(;;){if(y<s){const h=l._nth.call(null,o,y),A=l.nth.call(null,h,0,null),b=l.nth.call(null,h,1,null);l.chunk_append.call(null,t,l.vector(l.keyword("tr"),l.array_map(l.keyword("class"),A!==0?"border-t border-gray-200":null,l.keyword("key"),l.keyword("id").call(null,b)),function f(E){return new l.LazySeq(null,function(){let k=E;for(;;){const $=l.seq.call(null,k);if(l.truth_.call(null,$)){const v=$;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,v))){const q=l.chunk_first.call(null,v),i=l.count.call(null,q),p=l.chunk_buffer.call(null,i);return(()=>{let I=0;for(;;){if(I<i){const R=l._nth.call(null,q,I),T=l.nth.call(null,R,0,null),L=l.nth.call(null,R,1,null);l.chunk_append.call(null,p,l.truth_.call(null,l._EQ_.call(null,T,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,L)),l.keyword("value").call(null,L).call(null,b)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,L)),l.keyword("value").call(null,L).call(null,b))),I=l.unchecked_inc.call(null,I);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,p),f.call(null,l.chunk_rest.call(null,v))):l.chunk_cons.call(null,l.chunk.call(null,p),null)}else{const q=l.first.call(null,v),i=l.nth.call(null,q,0,null),p=l.nth.call(null,q,1,null);return l.cons.call(null,l.truth_.call(null,l._EQ_.call(null,i,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,p)),l.keyword("value").call(null,p).call(null,b)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,p)),l.keyword("value").call(null,p).call(null,b)),f.call(null,l.rest.call(null,v)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,x)))),y=l.unchecked_inc.call(null,y);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,t),u.call(null,l.chunk_rest.call(null,c))):l.chunk_cons.call(null,l.chunk.call(null,t),null)}else{const o=l.first.call(null,c),s=l.nth.call(null,o,0,null),t=l.nth.call(null,o,1,null);return l.cons.call(null,l.vector(l.keyword("tr"),l.array_map(l.keyword("class"),s!==0?"border-t border-gray-200":null,l.keyword("key"),l.keyword("id").call(null,t)),function h(A){return new l.LazySeq(null,function(){let b=A;for(;;){const F=l.seq.call(null,b);if(l.truth_.call(null,F)){const Q=F;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,Q))){const f=l.chunk_first.call(null,Q),E=l.count.call(null,f),k=l.chunk_buffer.call(null,E);return(()=>{let $=0;for(;;){if($<E){const v=l._nth.call(null,f,$),q=l.nth.call(null,v,0,null),i=l.nth.call(null,v,1,null);l.chunk_append.call(null,k,l.truth_.call(null,l._EQ_.call(null,q,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,i)),l.keyword("value").call(null,i).call(null,t)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,i)),l.keyword("value").call(null,i).call(null,t))),$=l.unchecked_inc.call(null,$);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,k),h.call(null,l.chunk_rest.call(null,Q))):l.chunk_cons.call(null,l.chunk.call(null,k),null)}else{const f=l.first.call(null,Q),E=l.nth.call(null,f,0,null),k=l.nth.call(null,f,1,null);return l.cons.call(null,l.truth_.call(null,l._EQ_.call(null,E,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,k)),l.keyword("value").call(null,k).call(null,t)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,k)),l.keyword("value").call(null,k).call(null,t)),h.call(null,l.rest.call(null,Q)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,x))),u.call(null,l.rest.call(null,c)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,j)))))))},H=function(e){const r=e,n=l.__destructure_map.call(null,r),a=l.get.call(null,n,l.keyword("title")),j=l.get.call(null,n,l.keyword("content")),g=l.get.call(null,n,l.keyword("class")),G=l.get.call(null,n,l.keyword("selected")),x=l.get.call(null,n,l.keyword("on-drag-over")),z=l.get.call(null,n,l.keyword("on-drop")),w=l.get.call(null,n,l.keyword("on-click")),u=l.get.call(null,n,l.keyword("hover"));return l.vector(l.keyword("section"),l.array_map(l.keyword("class"),l.str.call(null,"bg-gray-50 antialiased ",g),l.keyword("on-click"),w,l.keyword("on-drag-over"),x,l.keyword("on-drop"),z),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"h-full border bg-white relative shadow-sm sm:rounded-lg md:overflow-auto ",l.truth_.call(null,G)?"ring-2 ring-blue-400 border-blue-500":"border-white"," ",l.truth_.call(null,u)?"hover:border-blue-500":null)),l.truth_.call(null,a)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-6"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"w-full"),l.vector(l.keyword("h2"),l.array_map(l.keyword("class"),"text-3xl font-semibold font-app-serif"),a))):null,l.truth_.call(null,j)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"md:overflow-auto p-6 ",l.truth_.call(null,a)?"pt-0":null)),j):null))},J=function(e,r){return B.split.call(null,S.pluralize.call(null,l.count.call(null,e),S.singular.call(null,r)),/ /)},M=function(e){const r=e,n=l.__destructure_map.call(null,r),a=l.get.call(null,n,l.keyword("content-type"));return S.pluralize.call(null,l.keyword("content-item-count").call(null,a),S.singular.call(null,l.keyword("name").call(null,a)))},P=function(e){const r=e,n=l.__destructure_map.call(null,r),a=l.get.call(null,n,l.keyword("content-types"));return l.vector(l.keyword("ul"),function g(G){return new l.LazySeq(null,function(){let x=G;for(;;){const z=l.seq.call(null,x);if(l.truth_.call(null,z)){const w=z;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,w))){const u=l.chunk_first.call(null,w),m=l.count.call(null,u),_=l.chunk_buffer.call(null,m);return(()=>{let d=0;for(;;){if(d<m){const c=l._nth.call(null,u,d),o=l.nth.call(null,c,0,null),s=l.nth.call(null,c,1,null);l.chunk_append.call(null,_,l.vector(l.keyword("span"),l.array_map(l.keyword("key"),l.keyword("id").call(null,s)),l.truth_.call(null,l._EQ_.call(null,o,0))?null:l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-300")," \u2022 "),l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline text-nowrap font-semibold",l.keyword("href"),l.str.call(null,"/admin/content-types/",l.name.call(null,l.keyword("slug").call(null,s)))),l.vector(M,l.array_map(l.keyword("content-type"),s))))),d=l.unchecked_inc.call(null,d);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,_),g.call(null,l.chunk_rest.call(null,w))):l.chunk_cons.call(null,l.chunk.call(null,_),null)}else{const u=l.first.call(null,w),m=l.nth.call(null,u,0,null),_=l.nth.call(null,u,1,null);return l.cons.call(null,l.vector(l.keyword("span"),l.array_map(l.keyword("key"),l.keyword("id").call(null,_)),l.truth_.call(null,l._EQ_.call(null,m,0))?null:l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-300")," \u2022 "),l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline text-nowrap font-semibold",l.keyword("href"),l.str.call(null,"/admin/content-types/",l.name.call(null,l.keyword("slug").call(null,_)))),l.vector(M,l.array_map(l.keyword("content-type"),_)))),g.call(null,l.rest.call(null,w)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,l.sort_by.call(null,l.keyword("name"),a))))},V=function(e,r){return l.into.call(null,l.array_map(),l.map.call(null,function(n){return l.vector(e.call(null,n),n)},r))};export{U as __GT_unsaved_changes,H as box,K as client_id,M as content_item_count_text,P as content_item_counts,N as field_values,V as index_by,J as pluralize,D as table,C as update_unsaved_changes_BANG_};
