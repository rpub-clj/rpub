import*as l from"cherry-cljs/cljs.core.js";import*as B from"cherry-cljs/lib/clojure.string.js";import*as S from"rads.inflections";import*as O from"rpub.lib.http";var N=(()=>{const e=function(r){switch(l.alength.call(null,arguments)){case 1:return e.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return e.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw new Error(l.str.call(null,"Invalid arity: ",l.alength.call(null,arguments)))}};return e.cljs$core$IFn$_invoke$arity$1=function(r){return N.call(null,r,l.keys.call(null,l.keyword("inputs").call(null,r)))},e.cljs$core$IFn$_invoke$arity$2=function(r,n){return l.update_vals.call(null,l.select_keys.call(null,l.keyword("inputs").call(null,r),n),l.keyword("value"))},e.cljs$lang$maxFixedArity=2,e})();if(!(typeof K<"u"))var K=l.random_uuid.call(null);var U=function(e,r){return l.array_map(l.keyword("client-id"),K,l.keyword("key"),e,l.keyword("value"),r)},C=function(e){const r=l.array_map(l.keyword("format"),l.keyword("transit"),l.keyword("body"),e,l.keyword("on-complete"),function(n,o){if(l.truth_.call(null,o))return console.log(o)});return O.post.call(null,"/admin/api/update-unsaved-changes",r)},D=function(e){const r=e,n=l.__destructure_map.call(null,r),o=l.get.call(null,n,l.keyword("title")),j=l.get.call(null,n,l.keyword("rows")),x=l.get.call(null,n,l.keyword("description")),h=l.get.call(null,n,l.keyword("header-buttons")),b=l.get.call(null,n,l.keyword("columns")),G=l.get.call(null,n,l.keyword("delete-row"));return l.vector(l.keyword("section"),l.array_map(l.keyword("class"),"bg-gray-50 antialiased"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"bg-white relative shadow-sm sm:rounded-lg overflow-hidden"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-4"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"w-full md:w-1/2"),l.vector(l.keyword("h2"),l.array_map(l.keyword("class"),"text-3xl font-semibold font-app-serif"),o),l.truth_.call(null,x)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mt-4"),x):null),l.truth_.call(null,h)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"w-full md:w-auto flex flex-col md:flex-row space-y-2 md:space-y-0 items-stretch md:items-center justify-end md:space-x-3 flex-shrink-0"),h):null),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"overflow-x-auto"),l.vector(l.keyword("table"),l.array_map(l.keyword("class"),"w-full text-sm text-left text-gray-500"),l.vector(l.keyword("thead"),l.array_map(l.keyword("class"),"text-xs text-gray-700 uppercase bg-gray-50"),l.vector(l.keyword("tr"),function a(d){return new l.LazySeq(null,function(){let _=d;for(;;){const y=l.seq.call(null,_);if(l.truth_.call(null,y)){const c=y;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,c))){const u=l.chunk_first.call(null,c),s=l.count.call(null,u),t=l.chunk_buffer.call(null,s);return(()=>{let k=0;for(;;){if(k<s){const f=l._nth.call(null,u,k);l.chunk_append.call(null,t,l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"p-4",l.keyword("scope"),"col",l.keyword("key"),l.keyword("name").call(null,f)),l.keyword("name").call(null,f))),k=l.unchecked_inc.call(null,k);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,t),a.call(null,l.chunk_rest.call(null,c))):l.chunk_cons.call(null,l.chunk.call(null,t),null)}else{const u=l.first.call(null,c);return l.cons.call(null,l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"p-4",l.keyword("scope"),"col",l.keyword("key"),l.keyword("name").call(null,u)),l.keyword("name").call(null,u)),a.call(null,l.rest.call(null,c)))}}break}},null,null)}.call(null,b),l.truth_.call(null,G)?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("scope"),"col"),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"sr-only"),"Actions")):null)),l.vector(l.keyword("tbody"),function a(d){return new l.LazySeq(null,function(){let _=d;for(;;){const y=l.seq.call(null,_);if(l.truth_.call(null,y)){const c=y;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,c))){const u=l.chunk_first.call(null,c),s=l.count.call(null,u),t=l.chunk_buffer.call(null,s);return(()=>{let k=0;for(;;){if(k<s){const f=l._nth.call(null,u,k),A=l.nth.call(null,f,0,null),$=l.nth.call(null,f,1,null);l.chunk_append.call(null,t,l.vector(l.keyword("tr"),l.array_map(l.keyword("class"),A!==0?"border-t border-gray-200":null,l.keyword("key"),l.keyword("id").call(null,$)),function v(E){return new l.LazySeq(null,function(){let w=E;for(;;){const q=l.seq.call(null,w);if(l.truth_.call(null,q)){const g=q;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,g))){const z=l.chunk_first.call(null,g),p=l.count.call(null,z),m=l.chunk_buffer.call(null,p);return(()=>{let I=0;for(;;){if(I<p){const R=l._nth.call(null,z,I),T=l.nth.call(null,R,0,null),L=l.nth.call(null,R,1,null);l.chunk_append.call(null,m,l.truth_.call(null,l._EQ_.call(null,T,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,L)),l.keyword("value").call(null,L).call(null,$)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,L)),l.keyword("value").call(null,L).call(null,$))),I=l.unchecked_inc.call(null,I);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,m),v.call(null,l.chunk_rest.call(null,g))):l.chunk_cons.call(null,l.chunk.call(null,m),null)}else{const z=l.first.call(null,g),p=l.nth.call(null,z,0,null),m=l.nth.call(null,z,1,null);return l.cons.call(null,l.truth_.call(null,l._EQ_.call(null,p,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,m)),l.keyword("value").call(null,m).call(null,$)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,m)),l.keyword("value").call(null,m).call(null,$)),v.call(null,l.rest.call(null,g)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,b)))),k=l.unchecked_inc.call(null,k);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,t),a.call(null,l.chunk_rest.call(null,c))):l.chunk_cons.call(null,l.chunk.call(null,t),null)}else{const u=l.first.call(null,c),s=l.nth.call(null,u,0,null),t=l.nth.call(null,u,1,null);return l.cons.call(null,l.vector(l.keyword("tr"),l.array_map(l.keyword("class"),s!==0?"border-t border-gray-200":null,l.keyword("key"),l.keyword("id").call(null,t)),function f(A){return new l.LazySeq(null,function(){let $=A;for(;;){const F=l.seq.call(null,$);if(l.truth_.call(null,F)){const Q=F;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,Q))){const v=l.chunk_first.call(null,Q),E=l.count.call(null,v),w=l.chunk_buffer.call(null,E);return(()=>{let q=0;for(;;){if(q<E){const g=l._nth.call(null,v,q),z=l.nth.call(null,g,0,null),p=l.nth.call(null,g,1,null);l.chunk_append.call(null,w,l.truth_.call(null,l._EQ_.call(null,z,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,p)),l.keyword("value").call(null,p).call(null,t)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,p)),l.keyword("value").call(null,p).call(null,t))),q=l.unchecked_inc.call(null,q);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,w),f.call(null,l.chunk_rest.call(null,Q))):l.chunk_cons.call(null,l.chunk.call(null,w),null)}else{const v=l.first.call(null,Q),E=l.nth.call(null,v,0,null),w=l.nth.call(null,v,1,null);return l.cons.call(null,l.truth_.call(null,l._EQ_.call(null,E,0))?l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3 font-medium text-gray-900 whitespace-nowrap",l.keyword("scope"),"row",l.keyword("key"),l.keyword("name").call(null,w)),l.keyword("value").call(null,w).call(null,t)):l.vector(l.keyword("td"),l.array_map(l.keyword("class"),"px-4 py-3",l.keyword("key"),l.keyword("name").call(null,w)),l.keyword("value").call(null,w).call(null,t)),f.call(null,l.rest.call(null,Q)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,b))),a.call(null,l.rest.call(null,c)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,j)))))))},H=function(e){const r=e,n=l.__destructure_map.call(null,r),o=l.get.call(null,n,l.keyword("selected")),j=l.get.call(null,n,l.keyword("content")),x=l.get.call(null,n,l.keyword("on-drop")),h=l.get.call(null,n,l.keyword("title")),b=l.get.call(null,n,l.keyword("on-click")),G=l.get.call(null,n,l.keyword("size")),i=l.get.call(null,n,l.keyword("hover")),a=l.get.call(null,n,l.keyword("class")),d=l.get.call(null,n,l.keyword("on-drag-over"));return l.vector(l.keyword("section"),l.array_map(l.keyword("class"),l.str.call(null,"bg-gray-50 antialiased ",a),l.keyword("on-click"),b,l.keyword("on-drag-over"),d,l.keyword("on-drop"),x),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"h-full border bg-white relative shadow-sm sm:rounded-lg md:overflow-auto ",l.truth_.call(null,o)?"ring-2 ring-blue-400 border-blue-500":"border-white"," ",l.truth_.call(null,i)?"hover:border-blue-500":null)),l.truth_.call(null,h)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex flex-col md:flex-row items-center justify-between space-y-3 md:space-y-0 md:space-x-4 p-6"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"w-full ",l.truth_.call(null,l._EQ_.call(null,G,l.keyword("half")))?"md:w-1/2":null)),l.vector(l.keyword("h2"),l.array_map(l.keyword("class"),"text-3xl font-semibold font-app-serif"),h))):null,l.truth_.call(null,j)?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"md:overflow-auto p-6 ",l.truth_.call(null,h)?"pt-0":null)),j):null))},J=function(e,r){return B.split.call(null,S.pluralize.call(null,l.count.call(null,e),S.singular.call(null,r)),/ /)},M=function(e){const r=e,n=l.__destructure_map.call(null,r),o=l.get.call(null,n,l.keyword("content-type"));return S.pluralize.call(null,l.keyword("content-item-count").call(null,o),S.singular.call(null,l.keyword("name").call(null,o)))},P=function(e){const r=e,n=l.__destructure_map.call(null,r),o=l.get.call(null,n,l.keyword("content-types"));return l.vector(l.keyword("ul"),function x(h){return new l.LazySeq(null,function(){let b=h;for(;;){const G=l.seq.call(null,b);if(l.truth_.call(null,G)){const i=G;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,i))){const a=l.chunk_first.call(null,i),d=l.count.call(null,a),_=l.chunk_buffer.call(null,d);return(()=>{let y=0;for(;;){if(y<d){const c=l._nth.call(null,a,y),u=l.nth.call(null,c,0,null),s=l.nth.call(null,c,1,null);l.chunk_append.call(null,_,l.vector(l.keyword("span"),l.array_map(l.keyword("key"),l.keyword("id").call(null,s)),l.truth_.call(null,l._EQ_.call(null,u,0))?null:l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-300")," \u2022 "),l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline text-nowrap font-semibold",l.keyword("href"),l.str.call(null,"/admin/content-types/",l.name.call(null,l.keyword("slug").call(null,s)))),l.vector(M,l.array_map(l.keyword("content-type"),s))))),y=l.unchecked_inc.call(null,y);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,_),x.call(null,l.chunk_rest.call(null,i))):l.chunk_cons.call(null,l.chunk.call(null,_),null)}else{const a=l.first.call(null,i),d=l.nth.call(null,a,0,null),_=l.nth.call(null,a,1,null);return l.cons.call(null,l.vector(l.keyword("span"),l.array_map(l.keyword("key"),l.keyword("id").call(null,_)),l.truth_.call(null,l._EQ_.call(null,d,0))?null:l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-300")," \u2022 "),l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline text-nowrap font-semibold",l.keyword("href"),l.str.call(null,"/admin/content-types/",l.name.call(null,l.keyword("slug").call(null,_)))),l.vector(M,l.array_map(l.keyword("content-type"),_)))),x.call(null,l.rest.call(null,i)))}}break}},null,null)}.call(null,l.map_indexed.call(null,l.vector,l.sort_by.call(null,l.keyword("name"),o))))},V=function(e,r){return l.into.call(null,l.array_map(),l.map.call(null,function(n){return l.vector(e.call(null,n),n)},r))};export{U as __GT_unsaved_changes,H as box,K as client_id,M as content_item_count_text,P as content_item_counts,N as field_values,V as index_by,J as pluralize,D as table,C as update_unsaved_changes_BANG_};
