import*as e from"cherry-cljs/cljs.core.js";import{use_dag as k}from"rpub.lib.dag.react";import*as p from"rpub.lib.html";import*as w from"rpub.plugins.admin.helpers";var _=function(l){const a=l,n=e.__destructure_map.call(null,a),r=e.get.call(null,n,e.keyword("value")),t=e.get.call(null,n,e.keyword("on-change"));return e.vector(e.keyword("textarea"),e.array_map(e.keyword("class"),"w-full min-h-96 font-app-mono bg-gray-50 text-sm",e.keyword("value"),r,e.keyword("on-change"),t))},y=function(l){const a=l,n=e.__destructure_map.call(null,a),r=e.get.call(null,n,e.keyword("field-config")),t=e.get.call(null,n,e.keyword("input-component")),o=k.call(null,e.vector(e.keyword("rpub.plugins.admin.themes.single-theme-page/field-values"))),s=e.nth.call(null,o,0,null),u=e.__destructure_map.call(null,s),i=e.get.call(null,u,e.keyword("rpub.plugins.admin.themes.single-theme-page/field-values")),c=e.nth.call(null,o,1,null),m=e.get.call(null,i,e.keyword("key").call(null,r),e.keyword("value").call(null,r)),x=function(d,j){const F=j.target.value;return c.call(null,e.keyword("rpub.plugins.admin.themes.single-theme-page/change-input"),e.vector(d,F))};return e.vector(e.keyword("div"),e.array_map(e.keyword("key"),e.str.call(null,e.keyword("key").call(null,r)),e.keyword("class"),"sm:col-span-2"),e.vector(e.keyword("label"),e.array_map(e.keyword("class"),"block mb-2 text-sm font-semibold text-gray-900",e.keyword("for"),"name"),e.keyword("label").call(null,r)),e.vector(t,e.array_map(e.keyword("type"),e.keyword("type").call(null,r),e.keyword("name"),e.keyword("key").call(null,r),e.keyword("value"),m,e.keyword("on-change"),function(d){return x.call(null,e.keyword("key").call(null,r),d)})))},h=function(l){const a=l,n=e.__destructure_map.call(null,a),r=e.get.call(null,n,e.keyword("theme")),t=k.call(null,e.vector(e.keyword("rpub.plugins.admin.themes.single-theme-page/submitting"))),o=e.nth.call(null,t,0,null),s=e.__destructure_map.call(null,o),u=e.get.call(null,s,e.keyword("rpub.plugins.admin.themes.single-theme-page/submitting")),i=function(m){return m.preventDefault()},c=e.get_in.call(null,r,e.vector(e.keyword("value"),e.keyword("html-template")));return e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"p-4"),e.vector(w.box,e.array_map(e.keyword("class"),"mb-4",e.keyword("title"),e.truth_.call(null,e.keyword("new").call(null,r))?"New Theme":e.vector(e.keyword("div"),e.vector(e.keyword("span.italic.text-blue-600"),"Theme: "),e.keyword("label").call(null,r)))),e.vector(w.box,e.array_map(e.keyword("content"),e.vector(e.keyword("form"),e.array_map(e.keyword("on-submit"),i),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"grid gap-4 sm:grid-cols-2 sm:gap-6"),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"max-w-2xl"),e.vector(y,e.array_map(e.keyword("field-config"),e.array_map(e.keyword("key"),e.keyword("name"),e.keyword("label"),"Name",e.keyword("type"),e.keyword("text"),e.keyword("value"),e.keyword("label").call(null,r)),e.keyword("input-component"),p.input2))),e.vector(y,e.array_map(e.keyword("field-config"),e.array_map(e.keyword("key"),e.keyword("html"),e.keyword("label"),"HTML",e.keyword("value"),c),e.keyword("input-component"),_)),e.truth_.call(null,e.keyword("new").call(null,r))?e.vector(p.submit_button,e.array_map(e.keyword("ready-label"),"Create",e.keyword("submit-label"),"Creating...",e.keyword("submitting"),u)):e.vector(p.submit_button,e.array_map(e.keyword("ready-label"),"Save",e.keyword("submit-label"),"Saving...",e.keyword("submitting"),u)))))))},v=function(l,a){const n=a,r=e.nth.call(null,n,0,null),t=e.nth.call(null,n,1,null);return e.assoc_in.call(null,l,e.vector(e.keyword("rpub.plugins.admin.themes.single-theme-page/inputs"),r,e.keyword("value")),t)},b=function(l){return e.assoc.call(null,l,e.keyword("rpub.plugins.admin.themes.single-theme-page/submitting"),!1)},f=function(l){return e.assoc.call(null,l,e.keyword("rpub.plugins.admin.themes.single-theme-page/submitting"),!0)},g=(()=>{const l=function(a){switch(e.alength.call(null,arguments)){case 1:return l.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return l.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw new Error(e.str.call(null,"Invalid arity: ",e.alength.call(null,arguments)))}};return l.cljs$core$IFn$_invoke$arity$1=function(a){return g.call(null,a,e.keys.call(null,e.keyword("rpub.plugins.admin.themes.single-theme-page/inputs").call(null,a)))},l.cljs$core$IFn$_invoke$arity$2=function(a,n){return e.update_vals.call(null,e.select_keys.call(null,e.keyword("rpub.plugins.admin.themes.single-theme-page/inputs").call(null,a),n),e.keyword("value"))},l.cljs$lang$maxFixedArity=2,l})(),$=e.array_map(e.keyword("nodes"),e.array_map(e.keyword("rpub.plugins.admin.themes.single-theme-page/change-input"),e.array_map(e.keyword("push"),v),e.keyword("rpub.plugins.admin.themes.single-theme-page/field-values"),e.array_map(e.keyword("calc"),g),e.keyword("rpub.plugins.admin.themes.single-theme-page/submit-error"),e.array_map(e.keyword("push"),b),e.keyword("rpub.plugins.admin.themes.single-theme-page/submit-start"),e.array_map(e.keyword("push"),f),e.keyword("rpub.plugins.admin.themes.single-theme-page/submitting"),e.array_map(e.keyword("calc"),e.keyword("rpub.plugins.admin.themes.single-theme-page/submitting"))),e.keyword("edges"),e.vector(e.vector(e.keyword("rpub.plugins.admin.themes.single-theme-page/change-input"),e.keyword("rpub.plugins.admin.themes.single-theme-page/field-values")),e.vector(e.keyword("rpub.plugins.admin.themes.single-theme-page/submit-error"),e.keyword("rpub.plugins.admin.themes.single-theme-page/submitting")),e.vector(e.keyword("rpub.plugins.admin.themes.single-theme-page/submit-start"),e.keyword("rpub.plugins.admin.themes.single-theme-page/submitting")))),I=e.array_map(e.keyword("page-id"),e.keyword("single-theme-page"),e.keyword("component"),h,e.keyword("dag-config"),$);export{v as change_input,I as config,$ as dag_config,y as field,g as field_values,_ as html_input,h as page,b as submit_error,f as submit_start};
