import*as l from"cherry-cljs/cljs.core.js";import{useSyncExternalStore as h,useId as b}from"react";var m=function(c,t,n){return l.get_in.call(null,t,l.vector(l.keyword("queries"),l.first.call(null,n))).call(null,c,n)},f=function(c,t,n){return l.get_in.call(null,t,l.vector(l.keyword("transactions"),l.first.call(null,n))).call(null,c,n)},y=function(c,t){const n=c,r=l.__destructure_map.call(null,n),e=l.get.call(null,r,l.keyword("conn")),_=l.get.call(null,r,l.keyword("model")),i=b.call(null),$=function(d){return l.add_watch.call(null,e,i,(()=>{const a=function(s){const o=l.array.call(null),k=l.alength.call(null,arguments);let u=0;for(;;){if(u<k){o.push(arguments[u]),u=u+1;continue}break}const v=0<l.alength.call(null,o)?new l.IndexedSeq(o.slice(0),0,null):null;return a.cljs$core$IFn$_invoke$arity$variadic(v)};return a.cljs$core$IFn$_invoke$arity$variadic=function(s){return d.call(null)},a.cljs$lang$maxFixedArity=0,a.cljs$lang$applyTo=function(s){return this.cljs$core$IFn$_invoke$arity$variadic(l.seq.call(null,s))},a})()),function(){return l.remove_watch.call(null,e,i)}},g=function(d){return l.deref.call(null,e)},w=h.call(null,$,g);return m.call(null,w,_,t)},p=function(c,t){const n=c,r=l.__destructure_map.call(null,n),e=l.get.call(null,r,l.keyword("conn")),_=l.get.call(null,r,l.keyword("model"));return l.swap_BANG_.call(null,e,f,_,t)},j=function(c){const t=c,n=l.__destructure_map.call(null,t),r=l.get.call(null,n,l.keyword("conn")),e=l.get.call(null,n,l.keyword("model"));return l.array_map(l.keyword("conn"),r,l.keyword("model"),e,l.keyword("subscribe"),y,l.keyword("dispatch"),p)};export{p as dispatch,m as query,y as subscribe,j as substrate,f as transact};
