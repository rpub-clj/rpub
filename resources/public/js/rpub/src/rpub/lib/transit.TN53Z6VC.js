import*as l from"cherry-cljs/cljs.core.js";import*as a from"transit-js";var y=l.array_map("rpub/instant",function(n){return new Date(n)},"list",function(n){return l.map.call(null,t,n)}),m=l.array_map(l.keyword("init"),function(n){return l.vector()},l.keyword("add"),function(n,r,u){return l.conj.call(null,n,t.call(null,r))},l.keyword("finalize"),function(n){return n}),p=l.array_map(l.keyword("init"),function(n){return l.array_map()},l.keyword("add"),function(n,r,u,T){return l.assoc.call(null,n,t.call(null,r),t.call(null,u))},l.keyword("finalize"),function(n){return n}),w=a.reader.call(null,"json",l.clj__GT_js.call(null,l.array_map(l.keyword("handlers"),y,l.keyword("mapBuilder"),p,l.keyword("arrayBuilder"),m))),h=a.makeWriteHandler.call(null,{tag:function(n,r){return"rpub/instant"},rep:function(n,r){return n.toISOString()},stringRep:function(n,r){return null}}),k=a.map.call(null,[Date,h]),v=a.writer.call(null,"json",l.clj__GT_js.call(null,l.array_map(l.keyword("handlers"),k))),e=function(n){return l.into_array.call(null,l.map.call(null,c,n))},_=function(n){return a.map.call(null,e.call(null,l.mapcat.call(null,l.identity,n)))},i=function(n){const r=l.namespace.call(null,n);if(l.truth_.call(null,r)){const u=r;return a.keyword.call(null,l.str.call(null,u,"/",l.name.call(null,n)))}else return a.keyword.call(null,l.name.call(null,n))},s=function(n){return a.uuid.call(null,l.str.call(null,n))},c=function(n){return l.truth_.call(null,l.uuid_QMARK_.call(null,n))?s.call(null,n):l.truth_.call(null,l.sequential_QMARK_.call(null,n))?e.call(null,n):l.truth_.call(null,(()=>{const r=l.map_QMARK_.call(null,n);return l.truth_.call(null,r)?l.not.call(null,l.record_QMARK_.call(null,n)):r})())?_.call(null,n):l.truth_.call(null,l.keyword_QMARK_.call(null,n))?i.call(null,n):l.truth_.call(null,l.keyword("else"))?n:null},o=function(n){const r=n.namespace();if(l.truth_.call(null,r)){const u=r;return l.keyword.call(null,u,n.name())}else return l.keyword.call(null,n.name())},d=function(n){const r=l.transient$.call(null,l.hash_set());return n.forEach(function(u){return l.conj_BANG_.call(null,r,t.call(null,u))}),l.persistent_BANG_.call(null,r)},f=function(n){return l.uuid.call(null,l.str.call(null,n))},t=function(n){return l.truth_.call(null,a.isKeyword.call(null,n))?o.call(null,n):l.truth_.call(null,a.isUUID.call(null,n))?f.call(null,n):l.truth_.call(null,a.isSet.call(null,n))?d.call(null,n):l.truth_.call(null,l.keyword("else"))?n:null},j=function(n){return v.write(c.call(null,n))},G=function(n){return t.call(null,w.read(n))};export{c as cljs__GT_transit,i as cljs_keyword__GT_transit,_ as cljs_map__GT_transit,e as cljs_sequential__GT_transit,s as cljs_uuid__GT_transit,G as read,t as transit__GT_cljs,o as transit_keyword__GT_cljs,d as transit_set__GT_cljs,f as transit_uuid__GT_cljs,j as write};
