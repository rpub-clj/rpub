import*as l from"cherry-cljs/cljs.core.js";import"rpub.lib.dag";var y=function(n,r,t){const e=l.get.call(null,n,r);if(l.truth_.call(null,e)){const a=e,c=l.__destructure_map.call(null,a),u=l.get.call(null,c,l.keyword("valid")),s=l.get.call(null,c,l.keyword("message"));return l.truth_.call(null,u.call(null,t))?l.array_map(l.keyword("valid"),!0):l.array_map(l.keyword("valid"),!1,l.keyword("message"),s)}},g=function(n,r,t){const e=n,a=l.__destructure_map.call(null,e),c=l.get.call(null,a,l.keyword("inputs")),u=l.get.call(null,a,l.keyword("form-schema")),s=t,o=l.nth.call(null,s,0,null),_=l.nth.call(null,s,1,null);return l.update_in.call(null,l.update_in.call(null,l.assoc_in.call(null,r,l.vector(c,o,l.keyword("value")),_),l.vector(c,o),l.dissoc,l.keyword("valid"),l.keyword("message")),l.vector(c,o),l.merge,y.call(null,u,o,_))},k=function(n,r){const t=n,e=l.__destructure_map.call(null,t),a=l.get.call(null,e,l.keyword("submitting"));return l.assoc.call(null,r,a,!1)},w=function(n,r){const t=n,e=l.__destructure_map.call(null,t),a=l.get.call(null,e,l.keyword("submitting"));return l.assoc.call(null,r,a,!0)},v=function(n,r,t){const e=n,a=l.__destructure_map.call(null,e),c=l.get.call(null,a,l.keyword("inputs")),u=l.get.call(null,a,l.keyword("form-schema"));return l.assoc.call(null,r,c,l.update_vals.call(null,u,l.constantly.call(null,l.array_map())))},m=(()=>{const n=function(r){switch(l.alength.call(null,arguments)){case 2:return n.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);case 3:return n.cljs$core$IFn$_invoke$arity$3(arguments[0],arguments[1],arguments[2]);default:throw new Error(l.str.call(null,"Invalid arity: ",l.alength.call(null,arguments)))}};return n.cljs$core$IFn$_invoke$arity$2=function(r,t){const e=r,a=l.__destructure_map.call(null,e),c=a,u=l.get.call(null,a,l.keyword("inputs"));return m.call(null,c,t,l.keys.call(null,l.get.call(null,t,u)))},n.cljs$core$IFn$_invoke$arity$3=function(r,t,e){const a=r,c=l.__destructure_map.call(null,a),u=l.get.call(null,c,l.keyword("inputs"));return l.select_keys.call(null,l.get.call(null,t,u),e)},n.cljs$lang$maxFixedArity=3,n})(),f=function(n,r){const t=n,e=l.__destructure_map.call(null,t),a=l.get.call(null,e,l.keyword("field-values")),c=r,u=l.__destructure_map.call(null,c),s=l.get.call(null,u,l.keyword("rpub.lib.dag/values"));return l.every_QMARK_.call(null,l.keyword("valid"),l.vals.call(null,l.get.call(null,s,a)))},b=function(n,r){const t=l.merge.call(null,l.into.call(null,l.array_map(),l.map.call(null,function(p){return l.vector(p,l.keyword.call(null,l.namespace.call(null,n),l.name.call(null,p)))},l.vector(l.keyword("init"),l.keyword("change-input"),l.keyword("field-values"),l.keyword("submit-error"),l.keyword("submit-start"),l.keyword("submitting"),l.keyword("ready-to-submit"),l.keyword("inputs")))),l.array_map(l.keyword("form-schema"),r)),e=t,a=l.__destructure_map.call(null,e),c=l.get.call(null,a,l.keyword("init")),u=l.get.call(null,a,l.keyword("change-input")),s=l.get.call(null,a,l.keyword("field-values")),o=l.get.call(null,a,l.keyword("submit-error")),_=l.get.call(null,a,l.keyword("submit-start")),i=l.get.call(null,a,l.keyword("submitting")),d=l.get.call(null,a,l.keyword("ready-to-submit"));return l.array_map(l.keyword("nodes"),l.array_map(c,l.array_map(l.keyword("push"),l.partial.call(null,v,t)),u,l.array_map(l.keyword("push"),l.partial.call(null,g,t)),s,l.array_map(l.keyword("calc"),l.partial.call(null,m,t)),o,l.array_map(l.keyword("push"),l.partial.call(null,k,t)),_,l.array_map(l.keyword("push"),l.partial.call(null,w,t)),i,l.array_map(l.keyword("calc"),i),d,l.array_map(l.keyword("calc"),l.partial.call(null,f,t))),l.keyword("edges"),l.vector(l.vector(c,s),l.vector(u,s),l.vector(s,d),l.vector(o,i),l.vector(_,i)))};export{b as __GT_dag,g as change_input_STAR_,m as field_values_STAR_,v as init_STAR_,f as ready_to_submit_STAR_,k as submit_error_STAR_,w as submit_start_STAR_,y as validate};
