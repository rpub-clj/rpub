import*as l from"cherry-cljs/cljs.core.js";import*as a from"transit-js";var d=l.array_map("rpub/instant",function(r){return new Date(r)},"list",function(r){return l.map.call(null,t,r)}),f=l.array_map(l.keyword("init"),function(r){return l.vector()},l.keyword("add"),function(r,n,u){return l.conj.call(null,r,t.call(null,n))},l.keyword("finalize"),function(r){return r}),y=l.array_map(l.keyword("init"),function(r){return l.array_map()},l.keyword("add"),function(r,n,u,j){return l.assoc.call(null,r,t.call(null,n),t.call(null,u))},l.keyword("finalize"),function(r){return r}),m=a.reader.call(null,"json",l.clj__GT_js.call(null,l.array_map(l.keyword("handlers"),d,l.keyword("mapBuilder"),y,l.keyword("arrayBuilder"),f))),p=a.makeWriteHandler.call(null,{tag:function(r,n){return"rpub/instant"},rep:function(r,n){return r.toISOString()},stringRep:function(r,n){return null}}),w=a.map.call(null,[Date,p]),k=a.writer.call(null,"json",l.clj__GT_js.call(null,l.array_map(l.keyword("handlers"),w))),e=function(r){return l.into_array.call(null,l.map.call(null,c,r))},_=function(r){return a.map.call(null,e.call(null,l.mapcat.call(null,l.identity,r)))},i=function(r){const n=l.namespace.call(null,r);if(l.truth_.call(null,n)){const u=n;return a.keyword.call(null,l.str.call(null,u,"/",l.name.call(null,r)))}else return a.keyword.call(null,l.name.call(null,r))},o=function(r){return a.uuid.call(null,l.str.call(null,r))},c=function(r){return l.truth_.call(null,l.uuid_QMARK_.call(null,r))?o.call(null,r):l.truth_.call(null,l.sequential_QMARK_.call(null,r))?e.call(null,r):l.truth_.call(null,(()=>{const n=l.map_QMARK_.call(null,r);return l.truth_.call(null,n)?l.not.call(null,l.record_QMARK_.call(null,r)):n})())?_.call(null,r):l.truth_.call(null,l.keyword_QMARK_.call(null,r))?i.call(null,r):l.truth_.call(null,l.keyword("else"))?r:null},s=function(r){const n=r.namespace();if(l.truth_.call(null,n)){const u=n;return l.keyword.call(null,u,r.name())}else return l.keyword.call(null,r.name())},t=function(r){return l.truth_.call(null,a.isKeyword.call(null,r))?s.call(null,r):l.truth_.call(null,a.isUUID.call(null,r))?l.uuid.call(null,l.str.call(null,r)):l.truth_.call(null,l.keyword("else"))?r:null},h=function(r){return k.write(c.call(null,r))},v=function(r){return t.call(null,m.read(r))};export{c as cljs__GT_transit,i as cljs_keyword__GT_transit,_ as cljs_map__GT_transit,e as cljs_sequential__GT_transit,o as cljs_uuid__GT_transit,v as read,t as transit__GT_cljs,s as transit_keyword__GT_cljs,h as write};
