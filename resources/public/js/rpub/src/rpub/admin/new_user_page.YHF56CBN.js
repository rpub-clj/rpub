import*as e from"cherry-cljs/cljs.core.js";import*as A from"rpub.admin.impl";import{use_dag as C}from"rpub.lib.dag.react";import*as _ from"rpub.lib.html";var b=function(l){const r=C.call(null,e.vector(e.keyword("rpub.admin.new-user-page/field-values"),e.keyword("rpub.admin.new-user-page/submitting"))),n=e.nth.call(null,r,0,null),s=e.__destructure_map.call(null,n),o=e.get.call(null,s,e.keyword("rpub.admin.new-user-page/field-values")),x=e.get.call(null,s,e.keyword("rpub.admin.new-user-page/submitting")),j=e.nth.call(null,r,1,null),F=function(k){return e.prn.call(null,o)},I=e.vector(e.array_map(e.keyword("key"),e.keyword("username"),e.keyword("label"),"Username"),e.array_map(e.keyword("key"),e.keyword("password"),e.keyword("label"),"Password"),e.array_map(e.keyword("key"),e.keyword("roles"),e.keyword("label"),"Roles")),m=function(k,d){const w=d.target.value;return j.call(null,e.keyword("rpub.admin.new-user-page/change-input"),e.vector(k,w))};return e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"p-4"),e.vector(A.box,e.array_map(e.keyword("title"),"New User",e.keyword("content"),e.vector(e.keyword("section"),e.array_map(e.keyword("class"),"bg-white"),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"max-w-2xl"),e.vector(e.keyword("form"),e.array_map(e.keyword("on-submit"),F),e.vector(e.keyword("div"),e.array_map(e.keyword("class"),"grid gap-4 sm:grid-cols-2 sm:gap-6"),function d(w){return new e.LazySeq(null,function(){let G=w;for(;;){const g=e.seq.call(null,G);if(e.truth_.call(null,g)){const t=g;if(e.truth_.call(null,e.chunked_seq_QMARK_.call(null,t))){const a=e.chunk_first.call(null,t),y=e.count.call(null,a),c=e.chunk_buffer.call(null,y);return(()=>{let i=0;for(;;){if(i<y){const u=e._nth.call(null,a,i),q=e.get.call(null,o,e.keyword("key").call(null,u),e.keyword("value").call(null,u));e.chunk_append.call(null,c,e.vector(e.keyword("div"),e.array_map(e.keyword("key"),e.str.call(null,e.keyword("key").call(null,u)),e.keyword("class"),"sm:col-span-2"),e.vector(e.keyword("label"),e.array_map(e.keyword("class"),"block mb-2 text-sm font-semibold text-gray-900",e.keyword("for"),"name"),e.keyword("label").call(null,u)),e.vector(_.input2,e.array_map(e.keyword("type"),e.keyword("text"),e.keyword("name"),e.keyword("key").call(null,u),e.keyword("value"),q,e.keyword("on-change"),function(z){return m.call(null,e.keyword("key").call(null,u),z)})))),i=e.unchecked_inc.call(null,i);continue}else return!0;break}})()?e.chunk_cons.call(null,e.chunk.call(null,c),d.call(null,e.chunk_rest.call(null,t))):e.chunk_cons.call(null,e.chunk.call(null,c),null)}else{const a=e.first.call(null,t),y=e.get.call(null,o,e.keyword("key").call(null,a),e.keyword("value").call(null,a));return e.cons.call(null,e.vector(e.keyword("div"),e.array_map(e.keyword("key"),e.str.call(null,e.keyword("key").call(null,a)),e.keyword("class"),"sm:col-span-2"),e.vector(e.keyword("label"),e.array_map(e.keyword("class"),"block mb-2 text-sm font-semibold text-gray-900",e.keyword("for"),"name"),e.keyword("label").call(null,a)),e.vector(_.input2,e.array_map(e.keyword("type"),e.keyword("text"),e.keyword("name"),e.keyword("key").call(null,a),e.keyword("value"),y,e.keyword("on-change"),function(c){return m.call(null,e.keyword("key").call(null,a),c)}))),d.call(null,e.rest.call(null,t)))}}break}},null,null)}.call(null,I),e.vector(_.submit_button,e.array_map(e.keyword("ready-label"),"Create",e.keyword("submit-label"),"Creating...",e.keyword("submitting"),x)))))))))},v=function(l,r){const n=r,s=e.nth.call(null,n,0,null),o=e.nth.call(null,n,1,null);return e.assoc_in.call(null,l,e.vector(e.keyword("rpub.admin.new-user-page/inputs"),s,e.keyword("value")),o)},f=function(l){return e.assoc.call(null,l,e.keyword("rpub.admin.new-user-page/submitting"),!1)},h=function(l){return e.assoc.call(null,l,e.keyword("rpub.admin.new-user-page/submitting"),!0)},p=(()=>{const l=function(r){switch(e.alength.call(null,arguments)){case 1:return l.cljs$core$IFn$_invoke$arity$1(arguments[0]);case 2:return l.cljs$core$IFn$_invoke$arity$2(arguments[0],arguments[1]);default:throw new Error(e.str.call(null,"Invalid arity: ",e.alength.call(null,arguments)))}};return l.cljs$core$IFn$_invoke$arity$1=function(r){return p.call(null,r,e.keys.call(null,e.keyword("rpub.admin.new-user-page/inputs").call(null,r)))},l.cljs$core$IFn$_invoke$arity$2=function(r,n){return e.update_vals.call(null,e.select_keys.call(null,e.keyword("rpub.admin.new-user-page/inputs").call(null,r),n),e.keyword("value"))},l.cljs$lang$maxFixedArity=2,l})(),$=e.array_map(e.keyword("nodes"),e.array_map(e.keyword("rpub.admin.new-user-page/change-input"),e.array_map(e.keyword("push"),v),e.keyword("rpub.admin.new-user-page/field-values"),e.array_map(e.keyword("calc"),p),e.keyword("rpub.admin.new-user-page/submit-error"),e.array_map(e.keyword("push"),f),e.keyword("rpub.admin.new-user-page/submit-start"),e.array_map(e.keyword("push"),h),e.keyword("rpub.admin.new-user-page/submitting"),e.array_map(e.keyword("calc"),e.keyword("rpub.admin.new-user-page/submitting"))),e.keyword("edges"),e.vector(e.vector(e.keyword("rpub.admin.new-user-page/change-input"),e.keyword("rpub.admin.new-user-page/field-values")),e.vector(e.keyword("rpub.admin.new-user-page/submit-error"),e.keyword("rpub.admin.new-user-page/submitting")),e.vector(e.keyword("rpub.admin.new-user-page/submit-start"),e.keyword("rpub.admin.new-user-page/submitting")))),R=e.array_map(e.keyword("page-id"),e.keyword("new-user-page"),e.keyword("component"),b,e.keyword("dag-config"),$);export{v as change_input,R as config,$ as dag_config,p as field_values,b as page,f as submit_error,h as submit_start};
