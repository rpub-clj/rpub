import*as l from"cherry-cljs/cljs.core.js";import{useEffect as sl}from"react";import*as kl from"cherry-cljs/lib/clojure.string.js";import*as P from"rads.inflections";import*as z from"rpub.admin.impl";import{use_dag as V}from"rpub.lib.dag.react";import*as q from"rpub.lib.html";import*as W from"rpub.lib.http";var J=function(){return crypto.randomUUID()},X=l.vector(l.vector(l.array_map(l.keyword("header"),l.vector(1,2,3,4,5,6,null))),l.vector("bold","italic"),l.vector(l.array_map(l.keyword("list"),"bullet"),l.array_map(l.keyword("list"),"ordered")),l.vector("blockquote"),l.vector(l.array_map(l.keyword("align"),""),l.array_map(l.keyword("align"),"center"),l.array_map(l.keyword("align"),"right")),l.vector("link"),l.vector("clean")),ll=l.array_map(l.keyword("theme"),l.keyword("snow"),l.keyword("modules"),l.array_map(l.keyword("toolbar"),X)),il=function(n,u){const r=l.merge.call(null,ll,l.dissoc.call(null,u,l.keyword("html"))),c=new Quill(n,l.clj__GT_js.call(null,r)),a=l.keyword("html").call(null,u);if(l.truth_.call(null,a)){const d=a;c.clipboard.dangerouslyPasteHTML(d)}return c},wl=function(n){const u=n,r=l.__destructure_map.call(null,u),c=l.get.call(null,r,l.keyword("name")),a=l.get.call(null,r,l.keyword("type"));return l.array_map(l.keyword("id"),J.call(null),l.keyword("name"),c,l.keyword("type"),a)},el=function(n){return P.parameterize.call(null,n)},pl=function(n){const u=n,r=l.__destructure_map.call(null,u),c=l.get.call(null,r,l.keyword("id")),a=l.get.call(null,r,l.keyword("name")),d=l.get.call(null,r,l.keyword("slug")),f=l.get.call(null,r,l.keyword("fields"));return l.array_map(l.keyword("id"),(()=>{const x=J.call(null);return l.truth_.call(null,x)?x:c})(),l.keyword("name"),a,l.keyword("slug"),d,l.keyword("fields"),f,l.keyword("created-at"),new Date,l.keyword("content-item-count"),0)},Z=function(n){const u=n,r=l.__destructure_map.call(null,u),c=l.get.call(null,r,l.keyword("anti-forgery-token")),a=l.get.call(null,r,l.keyword("content-type")),d=l.get.call(null,r,l.keyword("class")),f=V.call(null),x=l.nth.call(null,f,0,null),_=l.nth.call(null,f,1,null),M=l.array_map(l.keyword("anti-forgery-token"),c,l.keyword("format"),l.keyword("transit"));return l.vector(l.keyword("form"),l.array_map(l.keyword("method"),"post",l.keyword("class"),d),l.vector(l.keyword("input"),l.array_map(l.keyword("id"),"__anti-forgery-token",l.keyword("name"),"__anti-forgery-token",l.keyword("type"),"hidden",l.keyword("value"),c)),l.vector(l.keyword("input"),l.array_map(l.keyword("type"),"hidden",l.keyword("name"),"content-type-id",l.keyword("value"),l.keyword("id").call(null,a))),l.vector(l.keyword("input"),l.array_map(l.keyword("type"),"hidden",l.keyword("name"),"content-type-name",l.keyword("value"),l.keyword("name").call(null,a))),l.vector(l.keyword("div"),function C(K){return new l.LazySeq(null,function(){let L=K;for(;;){const y=l.seq.call(null,L);if(l.truth_.call(null,y)){const v=y;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,v))){const s=l.chunk_first.call(null,v),g=l.count.call(null,s),G=l.chunk_buffer.call(null,g);return(()=>{let w=0;for(;;){if(w<g){const e=l._nth.call(null,s,w);l.chunk_append.call(null,G,l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mb-2 pb-2 pt-2 flex items-center group",l.keyword("key"),l.keyword("id").call(null,e)),l.vector(l.keyword("label"),l.array_map(l.keyword("for"),"field-name")),l.vector(q.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("on-focus"),function(k){return _.call(null,l.keyword("all-content-types-page/select-content-type-field"),l.array_map(l.keyword("content-type"),a,l.keyword("content-type-field"),e))},l.keyword("size"),l.keyword("text-medium"),l.keyword("class"),l.str.call(null,"px-2 py-1 font-semibold border border-gray-200 ","rounded-[6px] mr-4 max-w-xl"),l.keyword("placeholder"),"Field Name",l.keyword("name"),l.keyword("field-name"),l.keyword("readonly"),!0,l.keyword("default-value"),l.keyword("name").call(null,e))),l.vector(l.keyword("label"),l.array_map(l.keyword("for"),"field-type")),l.vector(q.select,l.array_map(l.keyword("name"),l.keyword("field-type"),l.keyword("on-focus"),function(k){return _.call(null,l.keyword("all-content-types-page/select-content-type-field"),l.array_map(l.keyword("content-type"),a,l.keyword("content-type-field"),e))},l.keyword("default-value"),l.keyword("type").call(null,e)),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("text"),l.keyword("value"),"text"),"Text"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("text-lg"),l.keyword("value"),"text-lg"),"Text (Large)"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("number"),l.keyword("value"),"number"),"Number"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("choice"),l.keyword("value"),"choice"),"Choice"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("group"),l.keyword("value"),"group"),"Group"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("media"),l.keyword("value"),"media"),"Media"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("datetime"),l.keyword("value"),"datetime"),"Date and Time")))),w=l.unchecked_inc.call(null,w);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,G),C.call(null,l.chunk_rest.call(null,v))):l.chunk_cons.call(null,l.chunk.call(null,G),null)}else{const s=l.first.call(null,v);return l.cons.call(null,l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mb-2 pb-2 pt-2 flex items-center group",l.keyword("key"),l.keyword("id").call(null,s)),l.vector(l.keyword("label"),l.array_map(l.keyword("for"),"field-name")),l.vector(q.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("on-focus"),function(g){return _.call(null,l.keyword("all-content-types-page/select-content-type-field"),l.array_map(l.keyword("content-type"),a,l.keyword("content-type-field"),s))},l.keyword("size"),l.keyword("text-medium"),l.keyword("class"),l.str.call(null,"px-2 py-1 font-semibold border border-gray-200 ","rounded-[6px] mr-4 max-w-xl"),l.keyword("placeholder"),"Field Name",l.keyword("name"),l.keyword("field-name"),l.keyword("readonly"),!0,l.keyword("default-value"),l.keyword("name").call(null,s))),l.vector(l.keyword("label"),l.array_map(l.keyword("for"),"field-type")),l.vector(q.select,l.array_map(l.keyword("name"),l.keyword("field-type"),l.keyword("on-focus"),function(g){return _.call(null,l.keyword("all-content-types-page/select-content-type-field"),l.array_map(l.keyword("content-type"),a,l.keyword("content-type-field"),s))},l.keyword("default-value"),l.keyword("type").call(null,s)),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("text"),l.keyword("value"),"text"),"Text"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("text-lg"),l.keyword("value"),"text-lg"),"Text (Large)"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("number"),l.keyword("value"),"number"),"Number"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("choice"),l.keyword("value"),"choice"),"Choice"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("group"),l.keyword("value"),"group"),"Group"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("media"),l.keyword("value"),"media"),"Media"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("datetime"),l.keyword("value"),"datetime"),"Date and Time"))),C.call(null,l.rest.call(null,v)))}}break}},null,null)}.call(null,l.sort_by.call(null,l.keyword("rank"),l.keyword("fields").call(null,a)))))},j=l.vector(l.array_map(l.keyword("label"),"Text",l.keyword("description"),"Ask for text with optional formatting.",l.keyword("type"),l.keyword("text")),l.array_map(l.keyword("label"),"Date and Time",l.keyword("description"),"Ask for a date and time with a date picker.",l.keyword("type"),l.keyword("datetime")),l.array_map(l.keyword("label"),"Number",l.keyword("description"),"Ask for a whole number or a decimal.",l.keyword("type"),l.keyword("number")),l.array_map(l.keyword("label"),"Media",l.keyword("description"),"Ask for an image or video.",l.keyword("type"),l.keyword("media")),l.array_map(l.keyword("label"),"Choice",l.keyword("description"),"Ask for a choice between multiple options.",l.keyword("type"),l.keyword("choice")),l.array_map(l.keyword("label"),"Group",l.keyword("description"),"Combine multiple fields into a group.",l.keyword("type"),l.keyword("group"))),rl=function(n){const u=n,r=l.__destructure_map.call(null,u),c=r,a=l.get.call(null,r,l.keyword("anti-forgery-token")),d=V.call(null,l.vector(l.keyword("all-content-types-page/selection"),l.keyword("model/content-types-index"))),f=l.nth.call(null,d,0,null),x=l.__destructure_map.call(null,f),_=l.get.call(null,x,l.keyword("all-content-types-page/selection")),M=l.get.call(null,x,l.keyword("model/content-types-index")),p=l.nth.call(null,d,1,null),C=sl.call(null,function(){return p.call(null,l.keyword("init"),l.select_keys.call(null,c,l.vector(l.keyword("content-types"))))},[]),K=l.array_map(l.keyword("anti-forgery-token"),a,l.keyword("format"),l.keyword("transit")),L=l.sort_by.call(null,l.keyword("created-at"),l._GT_,l.vals.call(null,M));return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex",l.keyword("onClick"),function(y){return l.truth_.call(null,y.target.closest("[data-content-type-id]"))?null:p.call(null,l.keyword("all-content-types-page/clear-selection"))}),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex-grow"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4 pr-[384px]"),l.vector(z.box,l.array_map(l.keyword("class"),"pb-4",l.keyword("title"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-center"),l.vector(l.keyword("div"),"Content Types")),l.keyword("content"),l.vector(z.content_item_counts,l.array_map(l.keyword("content-types"),L)))),function v(s){return new l.LazySeq(null,function(){let g=s;for(;;){const G=l.seq.call(null,g);if(l.truth_.call(null,G)){const w=G;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,w))){const e=l.chunk_first.call(null,w),t=l.count.call(null,e),k=l.chunk_buffer.call(null,t);return(()=>{let i=0;for(;;){if(i<t){const o=l._nth.call(null,e,i);l.chunk_append.call(null,k,l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"pb-4",l.keyword("key"),l.keyword("id").call(null,o),l.keyword("data-content-type-id"),l.keyword("id").call(null,o)),l.vector(z.box,l.array_map(l.keyword("on-click"),function(b){return l.truth_.call(null,(()=>{const S=b.target.closest("input");return l.truth_.call(null,S)?S:b.target.closest("select")})())?null:p.call(null,l.keyword("all-content-types-page/select-content-type"),l.array_map(l.keyword("content-type"),o))},l.keyword("on-drag-over"),function(b){return b.preventDefault()},l.keyword("on-drop"),function(b){return p.call(null,l.keyword("all-content-types-page/drag-drop"),l.array_map(l.keyword("content-type"),o))},l.keyword("selected"),(()=>{const b=l.not.call(null,l.keyword("content-type-field").call(null,_));return l.truth_.call(null,b)?l._EQ_.call(null,l.get_in.call(null,_,l.vector(l.keyword("content-type"),l.keyword("id"))),l.keyword("id").call(null,o)):b})(),l.keyword("title"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-center group"),l.vector(l.keyword("h3"),l.array_map(l.keyword("class"),"text-2xl"),l.keyword("name").call(null,o))),l.keyword("content"),l.truth_.call(null,l.seq.call(null,l.keyword("fields").call(null,o)))?l.vector(l.keyword("div"),l.array_map(l.keyword("key"),l.keyword("id").call(null,o)),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-start")),l.vector(Z,l.array_map(l.keyword("content-type"),o,l.keyword("anti-forgery-token"),a))):null)))),i=l.unchecked_inc.call(null,i);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,k),v.call(null,l.chunk_rest.call(null,w))):l.chunk_cons.call(null,l.chunk.call(null,k),null)}else{const e=l.first.call(null,w);return l.cons.call(null,l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"pb-4",l.keyword("key"),l.keyword("id").call(null,e),l.keyword("data-content-type-id"),l.keyword("id").call(null,e)),l.vector(z.box,l.array_map(l.keyword("on-click"),function(t){return l.truth_.call(null,(()=>{const k=t.target.closest("input");return l.truth_.call(null,k)?k:t.target.closest("select")})())?null:p.call(null,l.keyword("all-content-types-page/select-content-type"),l.array_map(l.keyword("content-type"),e))},l.keyword("on-drag-over"),function(t){return t.preventDefault()},l.keyword("on-drop"),function(t){return p.call(null,l.keyword("all-content-types-page/drag-drop"),l.array_map(l.keyword("content-type"),e))},l.keyword("selected"),(()=>{const t=l.not.call(null,l.keyword("content-type-field").call(null,_));return l.truth_.call(null,t)?l._EQ_.call(null,l.get_in.call(null,_,l.vector(l.keyword("content-type"),l.keyword("id"))),l.keyword("id").call(null,e)):t})(),l.keyword("title"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-center group"),l.vector(l.keyword("h3"),l.array_map(l.keyword("class"),"text-2xl"),l.keyword("name").call(null,e))),l.keyword("content"),l.truth_.call(null,l.seq.call(null,l.keyword("fields").call(null,e)))?l.vector(l.keyword("div"),l.array_map(l.keyword("key"),l.keyword("id").call(null,e)),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-start")),l.vector(Z,l.array_map(l.keyword("content-type"),e,l.keyword("anti-forgery-token"),a))):null))),v.call(null,l.rest.call(null,w)))}}break}},null,null)}.call(null,L))),(()=>{const y=function(v){const s=v,g=l.__destructure_map.call(null,s),G=g,w=l.get.call(null,g,l.keyword("label")),e=l.get.call(null,g,l.keyword("description"));return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"border border-gray-200 rounded-[6px] p-2 mb-4 bg-gray-50 cursor-move",l.keyword("draggable"),!0,l.keyword("onDragStart"),function(t){return p.call(null,l.keyword("all-content-types-page/drag-start"),G),l.println.call(null,l.keyword("onDragStart"),t)}),l.vector(l.keyword("h4"),l.array_map(l.keyword("class"),"font-semibold"),w),l.vector(l.keyword("p"),l.array_map(l.keyword("class"),"text-sm text-gray-500"),e))};return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4 pl-2 w-[376px] fixed right-0 bottom-0 top-12"),l.truth_.call(null,_)?l.truth_.call(null,l.keyword("content-type-field").call(null,_))?l.vector(z.box,l.array_map(l.keyword("class"),"h-full",l.keyword("title"),l.vector(l.keyword("h3"),l.array_map(l.keyword("class"),"text-2xl font-app-serif font-semibold"),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"italic"),"Field: "),l.get_in.call(null,_,l.vector(l.keyword("content-type-field"),l.keyword("name")))),l.keyword("content"),l.vector(l.keyword("div"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mb-8"),l.vector(l.keyword("h2"),l.array_map(l.keyword("class"),"text-xl font-app-serif font-semibold"),"Info")),l.vector(l.keyword("div"),l.vector(l.keyword("h2"),l.array_map(l.keyword("class"),"text-xl font-app-serif font-semibold"),"Conditions"),l.vector(l.keyword("p"),"foo"))))):l.truth_.call(null,l.keyword("content-type").call(null,_))?l.vector(z.box,l.array_map(l.keyword("class"),"h-full",l.keyword("title"),l.vector(l.keyword("h3"),l.array_map(l.keyword("class"),"text-2xl font-app-serif font-semibold"),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"italic"),"Content Type: "),l.get_in.call(null,_,l.vector(l.keyword("content-type"),l.keyword("name")))),l.keyword("content"),l.vector(l.keyword("div"),l.vector(l.keyword("h4"),l.array_map(l.keyword("class"),"text-xl font-app-serif font-semibold mb-4"),"Add Field"),l.vector(l.keyword("div"),function s(g){return new l.LazySeq(null,function(){let G=g;for(;;){const w=l.seq.call(null,G);if(l.truth_.call(null,w)){const e=w;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,e))){const t=l.chunk_first.call(null,e),k=l.count.call(null,t),i=l.chunk_buffer.call(null,k);return(()=>{let o=0;for(;;){if(o<k){const E=l._nth.call(null,t,o);l.chunk_append.call(null,i,y.call(null,E)),o=l.unchecked_inc.call(null,o);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,i),s.call(null,l.chunk_rest.call(null,e))):l.chunk_cons.call(null,l.chunk.call(null,i),null)}else{const t=l.first.call(null,e);return l.cons.call(null,y.call(null,t),s.call(null,l.rest.call(null,e)))}}break}},null,null)}.call(null,j))))):null:l.vector(z.box,l.array_map(l.keyword("class"),"h-full",l.keyword("content"),l.vector(l.keyword("div"),l.vector(l.keyword("div"),function s(g){return new l.LazySeq(null,function(){let G=g;for(;;){const w=l.seq.call(null,G);if(l.truth_.call(null,w)){const e=w;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,e))){const t=l.chunk_first.call(null,e),k=l.count.call(null,t),i=l.chunk_buffer.call(null,k);return(()=>{let o=0;for(;;){if(o<k){const E=l._nth.call(null,t,o);l.chunk_append.call(null,i,y.call(null,E)),o=l.unchecked_inc.call(null,o);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,i),s.call(null,l.chunk_rest.call(null,e))):l.chunk_cons.call(null,l.chunk.call(null,i),null)}else{const t=l.first.call(null,e);return l.cons.call(null,y.call(null,t),s.call(null,l.rest.call(null,e)))}}break}},null,null)}.call(null,j))))))})())};q.add_element.call(null,l.keyword("all-content-types-page"),z.wrap_component.call(null,rl),l.array_map(l.keyword("format"),l.keyword("transit")));var tl=l.vector("January","February","March","April","May","June","July","August","September","October","November","December"),nl=function(n){const u=n.getMonth(),r=n.getDate(),c=n.getFullYear(),a=n.getHours(),d=n.getMinutes(),f=l.get.call(null,tl,u),x=a<12?"AM":"PM",_=l.mod.call(null,a,12),M=_===0?12:_,p=d<10?l.str.call(null,"0",d):l.str.call(null,d);return l.str.call(null,f," ",r,", ",c," ",M,":",p," ",x)},ol=l.vector(l.array_map(l.keyword("name"),"Title",l.keyword("value"),function(n){const u=n,r=l.__destructure_map.call(null,u),c=l.get.call(null,r,l.keyword("fields"));return l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"font-semibold"),l.get.call(null,c,"Title"))}),l.array_map(l.keyword("name"),"Author",l.keyword("value"),function(n){const u=n,r=l.__destructure_map.call(null,u),a=l.get.call(null,r,l.keyword("created-by")),d=l.__destructure_map.call(null,a),f=l.get.call(null,d,l.keyword("username"));return l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"font-semibold"),f)}),l.array_map(l.keyword("name"),"Date",l.keyword("value"),function(n){const u=n,r=l.__destructure_map.call(null,u),c=l.get.call(null,r,l.keyword("created-at")),a=l.get.call(null,r,l.keyword("updated-at")),d=(()=>{const x=a;return l.truth_.call(null,x)?x:c})(),f=d==null?null:new Date(d);return f==null?null:nl.call(null,f)})),al=function(n){const u=n,r=l.__destructure_map.call(null,u),c=l.get.call(null,r,l.keyword("content-type")),a=l.get.call(null,r,l.keyword("content-items")),d=l.get.call(null,r,l.keyword("anti-forgery-token")),f=l.array_map(l.keyword("anti-forgery-token"),d,l.keyword("format"),l.keyword("transit")),x=l.map.call(null,function(M){return l.update.call(null,M,l.keyword("fields"),function(p){return l.update_keys.call(null,p,l.name)})},a),_=function(M,p){const C=l.array_map(l.keyword("content-item-id"),l.keyword("id").call(null,p)),K=function(y,v){if(l.truth_.call(null,v))return l.println.call(null,v)},L=l.merge.call(null,f,l.array_map(l.keyword("body"),C,l.keyword("on-complete"),K));return W.post.call(null,"/api/delete-content-item",L)};return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4"),l.vector(z.table,l.array_map(l.keyword("title"),l.keyword("name").call(null,c),l.keyword("columns"),ol,l.keyword("rows"),l.map.call(null,function(M){return l.assoc.call(null,M,l.keyword("content-type"),c)},x),l.keyword("delete-row"),_)))};q.add_element.call(null,l.keyword("single-content-type-page"),z.wrap_component.call(null,al),l.array_map(l.keyword("format"),l.keyword("transit")));var cl=function(n){return null},B=function(n){return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"editor bg-white"),l.vector(cl,n))},ul=function(n){return n.getSemanticHTML()},dl=l.uuid.call(null,"cd334826-1ec6-4906-8e7f-16ece1865faf"),_l=l.uuid.call(null,"6bd0ff7a-b720-4972-b98a-2aa85d179357"),yl=function(n){const u=n,r=l.__destructure_map.call(null,u),c=l.get.call(null,r,l.keyword("message"));return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-center p-4 mb-4 text-sm text-green-800 border border-green-300 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800",l.keyword("role"),"alert"),l.vector(l.keyword("svg"),l.array_map(l.keyword("class"),"flex-shrink-0 inline w-4 h-4 me-3",l.keyword("aria-hidden"),"true",l.keyword("xmlns"),"http://www.w3.org/2000/svg",l.keyword("fill"),"currentColor",l.keyword("viewBox"),"0 0 20 20"),l.vector(l.keyword("path"),l.array_map(l.keyword("d"),"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"))),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"sr-only"),"Info"),l.vector(l.keyword("div"),c))},ml=function(n){const u=n,r=l.__destructure_map.call(null,u),c=l.get.call(null,r,l.keyword("anti-forgery-token")),a=l.get.call(null,r,l.keyword("submit-form-url")),d=l.get.call(null,r,l.keyword("submitting-button-text")),f=l.get.call(null,r,l.keyword("content-item")),x=l.get.call(null,r,l.keyword("title")),_=l.get.call(null,r,l.keyword("submit-button-text")),M=l.get.call(null,r,l.keyword("content-type")),p=l.get.call(null,r,l.keyword("site-base-url")),C=l.get.call(null,r,l.keyword("submit-button-class")),K=l.array_map(l.keyword("anti-forgery-token"),c,l.keyword("format"),l.keyword("transit")),L=!1,y=l.array_map(l.keyword("form-fields"),(()=>{const e=l.keyword("document").call(null,f);return l.truth_.call(null,e)?e:l.array_map()})()),v=l.vector(),s=function(e,t){return null},g=function(e){return null},G=function(e,t){const k=e.target.value;return null},w=function(e,t){const k=t,i=l.__destructure_map.call(null,k),o=l.get.call(null,i,l.keyword("content-item-slug"));e.preventDefault();const E=null,b=l.get_in.call(null,E,l.vector(l.keyword("content-item"),l.keyword("form-fields"))),S=l.update_vals.call(null,l.keyword("editors").call(null,E),ul),A=l.merge.call(null,b,S,l.array_map(_l,o)),Q=(()=>{const h=l.array_map(l.keyword("content-type-id"),l.keyword("id").call(null,M),l.keyword("document"),A);return l.truth_.call(null,y)?l.assoc.call(null,h,l.keyword("content-item-id"),l.keyword("id").call(null,y)):h})(),N=function(h,D){return l.println.call(null,h),l.truth_.call(null,D)?l.println.call(null,D):l.truth_.call(null,y)?g.call(null,l.vector(yl,l.array_map(l.keyword("message"),l.vector(l.keyword("span.font-semibold"),P.capitalize.call(null,P.singular.call(null,l.name.call(null,l.keyword("slug").call(null,M))))," updated!")))):window.location=l.str.call(null,"/admin/content-types/",l.name.call(null,l.keyword("slug").call(null,M)),"/",l.keyword("content-item-slug").call(null,h))},m=l.assoc.call(null,l.assoc.call(null,K,l.keyword("body"),Q),l.keyword("on-complete"),N);return W.post.call(null,a,m)};return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4 pt-0"),z.box.call(null,l.array_map(l.keyword("title"),x,l.keyword("content"),(()=>{const e=(()=>{const i=l.get_in.call(null,y,l.vector(l.keyword("fields"),"Slug"));if(l.truth_.call(null,i))return i;{const o=l.get_in.call(null,y,l.vector(l.keyword("form-fields"),dl));return o==null?null:el.call(null,o)}})(),t=l.truth_.call(null,kl.blank_QMARK_.call(null,e))?null:l.str.call(null,p),k=l.map_indexed.call(null,l.vector,l.remove.call(null,l.comp.call(null,l.hash_set("Slug"),l.keyword("name")),l.sort_by.call(null,l.keyword("rank"),l.keyword("fields").call(null,M))));return l.vector(l.keyword("div"),function o(E){return new l.LazySeq(null,function(){let b=E;for(;;){const S=l.seq.call(null,b);if(l.truth_.call(null,S)){const A=S;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,A))){const Q=l.chunk_first.call(null,A),N=l.count.call(null,Q),m=l.chunk_buffer.call(null,N);return(()=>{let h=0;for(;;){if(h<N){const D=l._nth.call(null,Q,h);l.chunk_append.call(null,m,D),h=l.unchecked_inc.call(null,h);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,m),o.call(null,l.chunk_rest.call(null,A))):l.chunk_cons.call(null,l.chunk.call(null,m),null)}else{const Q=l.first.call(null,A);return l.cons.call(null,Q,o.call(null,l.rest.call(null,A)))}}break}},null,null)}.call(null,l.distinct.call(null,v)),l.vector(l.keyword("form"),l.array_map(l.keyword("on-submit"),function(i){return w.call(null,i,l.array_map(l.keyword("content-item-slug"),e))}),l.vector(l.keyword("div"),function o(E){return new l.LazySeq(null,function(){let b=E;for(;;){const S=l.seq.call(null,b);if(l.truth_.call(null,S)){const A=S;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,A))){const Q=l.chunk_first.call(null,A),N=l.count.call(null,Q),m=l.chunk_buffer.call(null,N);return(()=>{let h=0;for(;;){if(h<N){const D=l._nth.call(null,Q,h),H=l.nth.call(null,D,0,null),T=l.nth.call(null,D,1,null),U=T,F=l.__destructure_map.call(null,U),I=l.get.call(null,F,l.keyword("type")),R=l.get.call(null,F,l.keyword("name"));l.chunk_append.call(null,m,l.vector(l.keyword("div"),l.array_map(l.keyword("key"),l.keyword("id").call(null,T)),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"mb-2 pb-2 pt-2 ",l.truth_.call(null,l._EQ_.call(null,H,l.count.call(null,k)-1))?null:"border-b")),(()=>{const Y=I,$=l.truth_.call(null,l.keyword_QMARK_.call(null,Y))?l.subs.call(null,l.str.call(null,Y),1):null;switch($){case"text":return l.vector(q.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("class"),l.truth_.call(null,l._EQ_.call(null,l.keyword("name").call(null,T),"Title"))?"w-full":null,l.keyword("name"),R,l.keyword("placeholder"),R,l.keyword("default-value"),l.get_in.call(null,y,l.vector(l.keyword("form-fields"),l.keyword("id").call(null,T))),l.keyword("on-change"),function(O){return G.call(null,O,l.keyword("id").call(null,T))}));case"text-lg":return l.vector(B,l.array_map(l.keyword("class"),"h-72",l.keyword("html"),l.get_in.call(null,y,l.vector(l.keyword("form-fields"),l.keyword("id").call(null,T))),l.keyword("on-start"),function(O){return s.call(null,l.keyword("id").call(null,T),O)}));case"choice":return l.vector(q.select);case"datetime":return l.vector(q.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("name"),R,l.keyword("placeholder"),R));case"number":return l.vector(q.input,l.array_map(l.keyword("type"),l.keyword("number"),l.keyword("name"),R,l.keyword("placeholder"),R));default:throw new Error(l.str.call(null,"No matching clause: ",$))}})(),l.truth_.call(null,l._EQ_.call(null,l.keyword("name").call(null,T),"Title"))?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mt-2 text-sm"),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-500"),"Permalink: "),l.truth_.call(null,t)?l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline",l.keyword("href"),t),t):l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-400"),p,"/\u2026")):null))),h=l.unchecked_inc.call(null,h);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,m),o.call(null,l.chunk_rest.call(null,A))):l.chunk_cons.call(null,l.chunk.call(null,m),null)}else{const Q=l.first.call(null,A),N=l.nth.call(null,Q,0,null),m=l.nth.call(null,Q,1,null),h=m,D=l.__destructure_map.call(null,h),H=l.get.call(null,D,l.keyword("type")),T=l.get.call(null,D,l.keyword("name"));return l.cons.call(null,l.vector(l.keyword("div"),l.array_map(l.keyword("key"),l.keyword("id").call(null,m)),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"mb-2 pb-2 pt-2 ",l.truth_.call(null,l._EQ_.call(null,N,l.count.call(null,k)-1))?null:"border-b")),(()=>{const U=H,F=l.truth_.call(null,l.keyword_QMARK_.call(null,U))?l.subs.call(null,l.str.call(null,U),1):null;switch(F){case"text":return l.vector(q.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("class"),l.truth_.call(null,l._EQ_.call(null,l.keyword("name").call(null,m),"Title"))?"w-full":null,l.keyword("name"),T,l.keyword("placeholder"),T,l.keyword("default-value"),l.get_in.call(null,y,l.vector(l.keyword("form-fields"),l.keyword("id").call(null,m))),l.keyword("on-change"),function(I){return G.call(null,I,l.keyword("id").call(null,m))}));case"text-lg":return l.vector(B,l.array_map(l.keyword("class"),"h-72",l.keyword("html"),l.get_in.call(null,y,l.vector(l.keyword("form-fields"),l.keyword("id").call(null,m))),l.keyword("on-start"),function(I){return s.call(null,l.keyword("id").call(null,m),I)}));case"choice":return l.vector(q.select);case"datetime":return l.vector(q.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("name"),T,l.keyword("placeholder"),T));case"number":return l.vector(q.input,l.array_map(l.keyword("type"),l.keyword("number"),l.keyword("name"),T,l.keyword("placeholder"),T));default:throw new Error(l.str.call(null,"No matching clause: ",F))}})(),l.truth_.call(null,l._EQ_.call(null,l.keyword("name").call(null,m),"Title"))?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mt-2 text-sm"),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-500"),"Permalink: "),l.truth_.call(null,t)?l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline",l.keyword("href"),t),t):l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-400"),p,"/\u2026")):null)),o.call(null,l.rest.call(null,A)))}}break}},null,null)}.call(null,k),l.vector(l.keyword("button"),l.array_map(l.keyword("type"),l.keyword("submit"),l.keyword("class"),l.str.call(null,"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",C),l.keyword("disabled"),L),l.truth_.call(null,L)?l.vector(l.keyword("span"),l.vector(q.spinner),d):_))))})())))};export{pl as __GT_content_type,wl as __GT_field,el as __GT_slug,rl as all_content_types_page,ol as columns,Z as content_type_fields_form,ml as content_type_new_item_form,B as editor,cl as editor_impl,j as field_config,nl as format_datetime,tl as months,ll as quill_defaults,ul as quill_get_semantic_html,X as quill_toolbar,J as random_uuid,al as single_content_type_page,_l as slug_field_id,il as start_quill_BANG_,yl as success_alert,dl as title_field_id};
