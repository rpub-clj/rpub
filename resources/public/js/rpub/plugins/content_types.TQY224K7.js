import*as l from"cherry-cljs/cljs.core.js";import{useCallback as ll}from"react";import*as fl from"cherry-cljs/lib/clojure.string.js";import*as B from"rads.inflections";import*as K from"rpub.admin.impl";import*as u from"rpub.lib.html";import*as z from"rpub.lib.http";import*as el from"rpub.lib.reagent";var Y=function(){return crypto.randomUUID()},tl=l.vector(l.vector(l.array_map(l.keyword("header"),l.vector(1,2,3,4,5,6,null))),l.vector("bold","italic"),l.vector(l.array_map(l.keyword("list"),"bullet"),l.array_map(l.keyword("list"),"ordered")),l.vector("blockquote"),l.vector(l.array_map(l.keyword("align"),""),l.array_map(l.keyword("align"),"center"),l.array_map(l.keyword("align"),"right")),l.vector("link"),l.vector("clean")),rl=l.array_map(l.keyword("theme"),l.keyword("snow"),l.keyword("modules"),l.array_map(l.keyword("toolbar"),tl)),vl=function(t,r){const e=l.merge.call(null,rl,l.dissoc.call(null,r,l.keyword("html"))),a=new Quill(t,l.clj__GT_js.call(null,e)),n=l.keyword("html").call(null,r);if(l.truth_.call(null,n)){const d=n;a.clipboard.dangerouslyPasteHTML(d)}return a},nl=function(t){const r=t,e=l.__destructure_map.call(null,r),a=l.get.call(null,e,l.keyword("name")),n=l.get.call(null,e,l.keyword("type"));return l.array_map(l.keyword("id"),Y.call(null),l.keyword("name"),a,l.keyword("type"),n)},ol=function(t){return B.parameterize.call(null,t)},al=function(t){const r=t,e=l.__destructure_map.call(null,r),a=l.get.call(null,e,l.keyword("id")),n=l.get.call(null,e,l.keyword("name")),d=l.get.call(null,e,l.keyword("slug")),k=l.get.call(null,e,l.keyword("fields"));return l.array_map(l.keyword("id"),(()=>{const y=Y.call(null);return l.truth_.call(null,y)?y:a})(),l.keyword("name"),n,l.keyword("slug"),d,l.keyword("fields"),k,l.keyword("created-at"),new Date,l.keyword("content-item-count"),0)},$=function(t){const r=t,e=l.__destructure_map.call(null,r),a=l.get.call(null,e,l.keyword("anti-forgery-token")),n=l.get.call(null,e,l.keyword("content-type")),d=l.get.call(null,e,l.keyword("class")),k=l.array_map(l.keyword("anti-forgery-token"),a),y=ll.call(null,function(q,h){return u.debounce.call(null,function(c,o,i){c.preventDefault();const w=l.assoc.call(null,i,h,c.target.value),p=l.assoc.call(null,k,l.keyword("body"),l.merge.call(null,l.array_map(l.keyword("content-type-id"),q,l.keyword("content-field-id"),l.keyword("id").call(null,w)),l.select_keys.call(null,w,l.vector(l.keyword("name"),l.keyword("type"),l.keyword("rank")))));return z.post.call(null,"/api/update-content-type-field",p)},u.default_debounce_timeout_ms)}),A=function(q,h,c){if(q.preventDefault(),l.truth_.call(null,confirm(l.str.call(null,'Are you sure you want to delete "',l.keyword("name").call(null,c),'"?')))){const o=l.assoc.call(null,k,l.keyword("body"),l.array_map(l.keyword("content-type-id"),l.keyword("id").call(null,h),l.keyword("content-field-id"),l.keyword("id").call(null,c)));return z.post.call(null,"/api/delete-content-type-field",o)}},f=y.call(null,l.keyword("id").call(null,n),l.keyword("name")),T=y.call(null,l.keyword("id").call(null,n),l.keyword("type"));return l.vector(l.keyword("form"),l.array_map(l.keyword("method"),"post",l.keyword("class"),d),l.vector(l.keyword("input"),l.array_map(l.keyword("id"),"__anti-forgery-token",l.keyword("name"),"__anti-forgery-token",l.keyword("type"),"hidden",l.keyword("value"),a)),l.vector(l.keyword("input"),l.array_map(l.keyword("type"),"hidden",l.keyword("name"),"content-type-id",l.keyword("value"),l.keyword("id").call(null,n))),l.vector(l.keyword("input"),l.array_map(l.keyword("type"),"hidden",l.keyword("name"),"content-type-name",l.keyword("value"),l.keyword("name").call(null,n))),l.vector(l.keyword("div"),function h(c){return new l.LazySeq(null,function(){let o=c;for(;;){const i=l.seq.call(null,o);if(l.truth_.call(null,i)){const w=i;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,w))){const p=l.chunk_first.call(null,w),g=l.count.call(null,p),v=l.chunk_buffer.call(null,g);return(()=>{let D=0;for(;;){if(D<g){const _=l._nth.call(null,p,D);l.chunk_append.call(null,v,l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mb-2 pb-2 pt-2 flex items-center group",l.keyword("key"),l.keyword("id").call(null,_)),l.vector(l.keyword("label"),l.array_map(l.keyword("for"),l.keyword("field-name"))),l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("size"),l.keyword("text-medium"),l.keyword("class"),l.str.call(null,"px-2 py-1 font-semibold border border-gray-300 ","rounded-[6px] mr-4 max-w-xl"),l.keyword("placeholder"),"Field Name",l.keyword("name"),l.keyword("field-name"),l.keyword("readonly"),!0,l.keyword("default-value"),l.keyword("name").call(null,_))),l.vector(l.keyword("label"),l.array_map(l.keyword("for"),l.keyword("field-type"))),l.vector(u.select,l.array_map(l.keyword("name"),l.keyword("field-type"),l.keyword("default-value"),l.keyword("type").call(null,_),l.keyword("readonly"),!0),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("text"),l.keyword("value"),"text"),"Text"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("text-lg"),l.keyword("value"),"text-lg"),"Text (Large)"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("number"),l.keyword("value"),"number"),"Number"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("choice"),l.keyword("value"),"choice"),"Choice"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("datetime"),l.keyword("value"),"datetime"),"Date/Time")))),D=l.unchecked_inc.call(null,D);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,v),h.call(null,l.chunk_rest.call(null,w))):l.chunk_cons.call(null,l.chunk.call(null,v),null)}else{const p=l.first.call(null,w);return l.cons.call(null,l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mb-2 pb-2 pt-2 flex items-center group",l.keyword("key"),l.keyword("id").call(null,p)),l.vector(l.keyword("label"),l.array_map(l.keyword("for"),l.keyword("field-name"))),l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("size"),l.keyword("text-medium"),l.keyword("class"),l.str.call(null,"px-2 py-1 font-semibold border border-gray-300 ","rounded-[6px] mr-4 max-w-xl"),l.keyword("placeholder"),"Field Name",l.keyword("name"),l.keyword("field-name"),l.keyword("readonly"),!0,l.keyword("default-value"),l.keyword("name").call(null,p))),l.vector(l.keyword("label"),l.array_map(l.keyword("for"),l.keyword("field-type"))),l.vector(u.select,l.array_map(l.keyword("name"),l.keyword("field-type"),l.keyword("default-value"),l.keyword("type").call(null,p),l.keyword("readonly"),!0),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("text"),l.keyword("value"),"text"),"Text"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("text-lg"),l.keyword("value"),"text-lg"),"Text (Large)"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("number"),l.keyword("value"),"number"),"Number"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("choice"),l.keyword("value"),"choice"),"Choice"),l.vector(l.keyword("option"),l.array_map(l.keyword("key"),l.keyword("datetime"),l.keyword("value"),"datetime"),"Date/Time"))),h.call(null,l.rest.call(null,w)))}}break}},null,null)}.call(null,l.sort_by.call(null,l.keyword("rank"),l.keyword("fields").call(null,n)))))},cl=function(t,r){return l.into.call(null,l.array_map(),l.map.call(null,function(e){return l.vector(t.call(null,e),e)},r))},ul=function(t){const r=t,e=l.__destructure_map.call(null,r),a=l.get.call(null,e,l.keyword("content-types")),n=l.get.call(null,e,l.keyword("anti-forgery-token")),d=l.map.call(null,function(c){return l.update.call(null,c,l.keyword("created-at"),Date.parse)},a),k=cl.call(null,l.keyword("id"),d),y=l.array_map(l.keyword("anti-forgery-token"),n),A=ll.call(null,u.debounce.call(null,function(c,o){const i=c.target.value,w=l.select_keys.call(null,l.assoc.call(null,o,l.keyword("name"),i),l.vector(l.keyword("id"),l.keyword("name"))),p=l.assoc.call(null,y,l.keyword("body"),l.array_map(l.keyword("content-type"),w));return z.post.call(null,"/api/update-content-type",p)},u.default_debounce_timeout_ms)),f=function(c){const o=al.call(null,l.array_map(l.keyword("name"),"New Content Type",l.keyword("slug"),"new-content-type",l.keyword("fields"),l.vector()));return c.preventDefault(),z.post.call(null,"/api/new-content-type",y)},T=function(c,o){if(l.truth_.call(null,confirm(l.str.call(null,'Are you sure you want to delete "',l.keyword("name").call(null,o),'"?')))){const i=l.assoc.call(null,y,l.keyword("body"),l.array_map(l.keyword("content-type-id"),l.keyword("id").call(null,o)));return c.preventDefault(),z.post.call(null,"/api/delete-content-type",i)}},q=function(c,o,i){c.preventDefault();const w=l.apply.call(null,l.max,0,l.map.call(null,l.keyword("rank"),l.keyword("fields").call(null,o)))+1,p=l.assoc.call(null,nl.call(null,i),l.keyword("rank"),w),g=l.assoc.call(null,y,l.keyword("body"),l.array_map(l.keyword("content-type-id"),l.keyword("id").call(null,o)));return z.post.call(null,"/api/new-content-type-field",g)},h=l.sort_by.call(null,l.keyword("created-at"),l._GT_,l.vals.call(null,k));return l.vector(l.keyword("div"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4"),l.vector(K.box,l.array_map(l.keyword("title"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-center"),l.vector(l.keyword("div"),"Content Types")),l.keyword("content"),l.vector(K.content_item_counts,l.array_map(l.keyword("content-types"),h))))),function o(i){return new l.LazySeq(null,function(){let w=i;for(;;){const p=l.seq.call(null,w);if(l.truth_.call(null,p)){const g=p;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,g))){const v=l.chunk_first.call(null,g),D=l.count.call(null,v),_=l.chunk_buffer.call(null,D);return(()=>{let Q=0;for(;;){if(Q<D){const L=l._nth.call(null,v,Q);l.chunk_append.call(null,_,l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4 pt-0",l.keyword("key"),l.keyword("id").call(null,L)),l.vector(K.box,l.array_map(l.keyword("title"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-center group"),l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("class"),"max-w-xl",l.keyword("size"),l.keyword("text-2xl"),l.keyword("name"),l.keyword("content-type-name"),l.keyword("placeholder"),"Name",l.keyword("readonly"),!0,l.keyword("default-value"),l.keyword("name").call(null,L)))),l.keyword("content"),l.truth_.call(null,l.seq.call(null,l.keyword("fields").call(null,L)))?l.vector(l.keyword("div"),l.array_map(l.keyword("key"),l.keyword("id").call(null,L)),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-start")),l.vector($,l.array_map(l.keyword("content-type"),L,l.keyword("anti-forgery-token"),n))):null)))),Q=l.unchecked_inc.call(null,Q);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,_),o.call(null,l.chunk_rest.call(null,g))):l.chunk_cons.call(null,l.chunk.call(null,_),null)}else{const v=l.first.call(null,g);return l.cons.call(null,l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4 pt-0",l.keyword("key"),l.keyword("id").call(null,v)),l.vector(K.box,l.array_map(l.keyword("title"),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-center group"),l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("class"),"max-w-xl",l.keyword("size"),l.keyword("text-2xl"),l.keyword("name"),l.keyword("content-type-name"),l.keyword("placeholder"),"Name",l.keyword("readonly"),!0,l.keyword("default-value"),l.keyword("name").call(null,v)))),l.keyword("content"),l.truth_.call(null,l.seq.call(null,l.keyword("fields").call(null,v)))?l.vector(l.keyword("div"),l.array_map(l.keyword("key"),l.keyword("id").call(null,v)),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-start")),l.vector($,l.array_map(l.keyword("content-type"),v,l.keyword("anti-forgery-token"),n))):null))),o.call(null,l.rest.call(null,g)))}}break}},null,null)}.call(null,h))};u.add_element.call(null,l.keyword("all-content-types-page"),el.reactify_component.call(null,ul));var dl=l.vector("January","February","March","April","May","June","July","August","September","October","November","December"),_l=function(t){const r=t.getMonth(),e=t.getDate(),a=t.getFullYear(),n=t.getHours(),d=t.getMinutes(),k=l.get.call(null,dl,r),y=n<12?"AM":"PM",A=l.mod.call(null,n,12),f=A==0?12:A,T=d<10?l.str.call(null,"0",d):l.str.call(null,d);return l.str.call(null,k," ",e,", ",a," ",f,":",T," ",y)},yl=l.vector(l.array_map(l.keyword("name"),"Title",l.keyword("value"),function(t){const r=t,e=l.__destructure_map.call(null,r),a=l.get.call(null,e,l.keyword("fields"));return l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"font-semibold"),l.get.call(null,a,"Title"))}),l.array_map(l.keyword("name"),"Author",l.keyword("value"),function(t){const r=t,e=l.__destructure_map.call(null,r),n=l.get.call(null,e,l.keyword("created-by")),d=l.__destructure_map.call(null,n),k=l.get.call(null,d,l.keyword("username"));return l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"font-semibold"),k)}),l.array_map(l.keyword("name"),"Date",l.keyword("value"),function(t){const r=t,e=l.__destructure_map.call(null,r),a=l.get.call(null,e,l.keyword("created-at")),n=l.get.call(null,e,l.keyword("updated-at")),d=(()=>{const y=n;return l.truth_.call(null,y)?y:a})(),k=d==null?null:new Date(d);return k==null?null:_l.call(null,k)})),sl=function(t){const r=t,e=l.__destructure_map.call(null,r),a=l.get.call(null,e,l.keyword("content-type")),n=l.get.call(null,e,l.keyword("content-items")),d=l.get.call(null,e,l.keyword("anti-forgery-token")),k=l.array_map(l.keyword("anti-forgery-token"),d),y=l.map.call(null,function(f){return l.update.call(null,f,l.keyword("fields"),function(T){return l.update_keys.call(null,T,l.name)})},n),A=function(f,T){const q=l.array_map(l.keyword("content-item-id"),l.keyword("id").call(null,T)),h=function(o,i){if(l.truth_.call(null,i))return l.println.call(null,i)},c=l.merge.call(null,k,l.array_map(l.keyword("body"),q,l.keyword("on-complete"),h));return z.post.call(null,"/api/delete-content-item",c)};return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4"),l.vector(K.table,l.array_map(l.keyword("title"),l.keyword("name").call(null,a),l.keyword("columns"),yl,l.keyword("rows"),l.map.call(null,function(f){return l.assoc.call(null,f,l.keyword("content-type"),a)},y),l.keyword("delete-row"),A)))};u.add_element.call(null,l.keyword("single-content-type-page"),el.reactify_component.call(null,sl));var kl=function(t){const r=t,e=l.__destructure_map.call(null,r),a=e,n=l.get.call(null,e,l.keyword("on-start"));return null},V=function(t){return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"editor bg-white"),l.vector(kl,t))},il=function(t){return t.getSemanticHTML()},wl=l.uuid.call(null,"cd334826-1ec6-4906-8e7f-16ece1865faf"),pl=l.uuid.call(null,"6bd0ff7a-b720-4972-b98a-2aa85d179357"),ml=function(t){const r=t,e=l.__destructure_map.call(null,r),a=l.get.call(null,e,l.keyword("message"));return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"flex items-center p-4 mb-4 text-sm text-green-800 border border-green-300 rounded-lg bg-green-50 dark:bg-gray-800 dark:text-green-400 dark:border-green-800",l.keyword("role"),"alert"),l.vector(l.keyword("svg"),l.array_map(l.keyword("class"),"flex-shrink-0 inline w-4 h-4 me-3",l.keyword("aria-hidden"),"true",l.keyword("xmlns"),"http://www.w3.org/2000/svg",l.keyword("fill"),"currentColor",l.keyword("viewBox"),"0 0 20 20"),l.vector(l.keyword("path"),l.array_map(l.keyword("d"),"M10 .5a9.5 9.5 0 1 0 9.5 9.5A9.51 9.51 0 0 0 10 .5ZM9.5 4a1.5 1.5 0 1 1 0 3 1.5 1.5 0 0 1 0-3ZM12 15H8a1 1 0 0 1 0-2h1v-3H8a1 1 0 0 1 0-2h2a1 1 0 0 1 1 1v4h1a1 1 0 0 1 0 2Z"))),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"sr-only"),"Info"),l.vector(l.keyword("div"),a))},hl=function(t){const r=t,e=l.__destructure_map.call(null,r),a=l.get.call(null,e,l.keyword("anti-forgery-token")),n=l.get.call(null,e,l.keyword("submit-form-url")),d=l.get.call(null,e,l.keyword("submitting-button-text")),k=l.get.call(null,e,l.keyword("content-item")),y=l.get.call(null,e,l.keyword("title")),A=l.get.call(null,e,l.keyword("submit-button-text")),f=l.get.call(null,e,l.keyword("content-type")),T=l.get.call(null,e,l.keyword("site-base-url")),q=l.get.call(null,e,l.keyword("submit-button-class")),h=l.array_map(l.keyword("anti-forgery-token"),a),c=!1,o=l.array_map(l.keyword("form-fields"),(()=>{const _=l.keyword("document").call(null,k);return l.truth_.call(null,_)?_:l.array_map()})()),i=l.vector(),w=function(_,Q){return null},p=function(_){return null},g=function(_,Q){const L=_.target.value;return null},v=function(_,Q){const L=Q,M=l.__destructure_map.call(null,L),R=l.get.call(null,M,l.keyword("content-item-slug"));_.preventDefault();const S=null,N=l.get_in.call(null,S,l.vector(l.keyword("content-item"),l.keyword("form-fields"))),C=l.update_vals.call(null,l.keyword("editors").call(null,S),il),H=l.merge.call(null,N,C,l.array_map(pl,R)),I=(()=>{const x=l.array_map(l.keyword("content-type-id"),l.keyword("id").call(null,f),l.keyword("document"),H);return l.truth_.call(null,o)?l.assoc.call(null,x,l.keyword("content-item-id"),l.keyword("id").call(null,o)):x})(),b=function(x,s){return l.println.call(null,x),l.truth_.call(null,s)?l.println.call(null,s):l.truth_.call(null,o)?p.call(null,l.vector(ml,l.array_map(l.keyword("message"),l.vector(l.keyword("span.font-semibold"),B.capitalize.call(null,B.singular.call(null,l.name.call(null,l.keyword("slug").call(null,f))))," updated!")))):window.location=l.str.call(null,"/admin/content-types/",l.name.call(null,l.keyword("slug").call(null,f)),"/",l.keyword("content-item-slug").call(null,x))},G=l.assoc.call(null,l.assoc.call(null,h,l.keyword("body"),I),l.keyword("on-complete"),b);return z.post.call(null,n,G)},D=null;return l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"p-4 pt-0"),K.box.call(null,l.array_map(l.keyword("title"),y,l.keyword("content"),(()=>{const _=(()=>{const S=l.get_in.call(null,o,l.vector(l.keyword("fields"),"Slug"));if(l.truth_.call(null,S))return S;{const N=l.get_in.call(null,o,l.vector(l.keyword("form-fields"),wl));return N==null?null:ol.call(null,N)}})(),Q=l.array_map(l.keyword("content-type-slug"),l.keyword("slug").call(null,f),l.keyword("content-item-slug"),_),L=null,M=l.truth_.call(null,fl.blank_QMARK_.call(null,_))?null:l.str.call(null,T),R=l.map_indexed.call(null,l.vector,l.remove.call(null,l.comp.call(null,l.hash_set("Slug"),l.keyword("name")),l.sort_by.call(null,l.keyword("rank"),l.keyword("fields").call(null,f))));return l.vector(l.keyword("div"),function N(C){return new l.LazySeq(null,function(){let H=C;for(;;){const I=l.seq.call(null,H);if(l.truth_.call(null,I)){const b=I;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,b))){const G=l.chunk_first.call(null,b),x=l.count.call(null,G),s=l.chunk_buffer.call(null,x);return(()=>{let E=0;for(;;){if(E<x){const U=l._nth.call(null,G,E);l.chunk_append.call(null,s,U),E=l.unchecked_inc.call(null,E);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,s),N.call(null,l.chunk_rest.call(null,b))):l.chunk_cons.call(null,l.chunk.call(null,s),null)}else{const G=l.first.call(null,b);return l.cons.call(null,G,N.call(null,l.rest.call(null,b)))}}break}},null,null)}.call(null,l.distinct.call(null,i)),l.vector(l.keyword("form"),l.array_map(l.keyword("on-submit"),function(S){return v.call(null,S,l.array_map(l.keyword("content-item-slug"),_))}),l.vector(l.keyword("div"),function N(C){return new l.LazySeq(null,function(){let H=C;for(;;){const I=l.seq.call(null,H);if(l.truth_.call(null,I)){const b=I;if(l.truth_.call(null,l.chunked_seq_QMARK_.call(null,b))){const G=l.chunk_first.call(null,b),x=l.count.call(null,G),s=l.chunk_buffer.call(null,x);return(()=>{let E=0;for(;;){if(E<x){const U=l._nth.call(null,G,E),J=l.nth.call(null,U,0,null),m=l.nth.call(null,U,1,null),Z=m,F=l.__destructure_map.call(null,Z),P=l.get.call(null,F,l.keyword("type")),O=l.get.call(null,F,l.keyword("name"));l.chunk_append.call(null,s,l.vector(l.keyword("div"),l.array_map(l.keyword("key"),l.keyword("id").call(null,m)),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"mb-2 pb-2 pt-2 ",l.truth_.call(null,l._EQ_.call(null,J,l.count.call(null,R)-1))?null:"border-b")),(()=>{const W=P,X=l.truth_.call(null,l.keyword_QMARK_.call(null,W))?l.subs.call(null,l.str.call(null,W),1):null;switch(X){case"text":return l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("class"),l.truth_.call(null,l._EQ_.call(null,l.keyword("name").call(null,m),"Title"))?"w-full":null,l.keyword("name"),O,l.keyword("placeholder"),O,l.keyword("default-value"),l.get_in.call(null,o,l.vector(l.keyword("form-fields"),l.keyword("id").call(null,m))),l.keyword("on-change"),function(j){return g.call(null,j,l.keyword("id").call(null,m))}));case"text-lg":return l.vector(V,l.array_map(l.keyword("class"),"h-72",l.keyword("html"),l.get_in.call(null,o,l.vector(l.keyword("form-fields"),l.keyword("id").call(null,m))),l.keyword("on-start"),function(j){return w.call(null,l.keyword("id").call(null,m),j)}));case"choice":return l.vector(u.select);case"datetime":return l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("name"),O,l.keyword("placeholder"),O));case"number":return l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("number"),l.keyword("name"),O,l.keyword("placeholder"),O));default:throw new Error(l.str.call(null,"No matching clause: ",X))}})(),l.truth_.call(null,l._EQ_.call(null,l.keyword("name").call(null,m),"Title"))?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mt-2 text-sm"),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-500"),"Permalink: "),l.truth_.call(null,M)?l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline",l.keyword("href"),M),M):l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-400"),T,"/\u2026")):null))),E=l.unchecked_inc.call(null,E);continue}else return!0;break}})()?l.chunk_cons.call(null,l.chunk.call(null,s),N.call(null,l.chunk_rest.call(null,b))):l.chunk_cons.call(null,l.chunk.call(null,s),null)}else{const G=l.first.call(null,b),x=l.nth.call(null,G,0,null),s=l.nth.call(null,G,1,null),E=s,U=l.__destructure_map.call(null,E),J=l.get.call(null,U,l.keyword("type")),m=l.get.call(null,U,l.keyword("name"));return l.cons.call(null,l.vector(l.keyword("div"),l.array_map(l.keyword("key"),l.keyword("id").call(null,s)),l.vector(l.keyword("div"),l.array_map(l.keyword("class"),l.str.call(null,"mb-2 pb-2 pt-2 ",l.truth_.call(null,l._EQ_.call(null,x,l.count.call(null,R)-1))?null:"border-b")),(()=>{const Z=J,F=l.truth_.call(null,l.keyword_QMARK_.call(null,Z))?l.subs.call(null,l.str.call(null,Z),1):null;switch(F){case"text":return l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("class"),l.truth_.call(null,l._EQ_.call(null,l.keyword("name").call(null,s),"Title"))?"w-full":null,l.keyword("name"),m,l.keyword("placeholder"),m,l.keyword("default-value"),l.get_in.call(null,o,l.vector(l.keyword("form-fields"),l.keyword("id").call(null,s))),l.keyword("on-change"),function(P){return g.call(null,P,l.keyword("id").call(null,s))}));case"text-lg":return l.vector(V,l.array_map(l.keyword("class"),"h-72",l.keyword("html"),l.get_in.call(null,o,l.vector(l.keyword("form-fields"),l.keyword("id").call(null,s))),l.keyword("on-start"),function(P){return w.call(null,l.keyword("id").call(null,s),P)}));case"choice":return l.vector(u.select);case"datetime":return l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("text"),l.keyword("name"),m,l.keyword("placeholder"),m));case"number":return l.vector(u.input,l.array_map(l.keyword("type"),l.keyword("number"),l.keyword("name"),m,l.keyword("placeholder"),m));default:throw new Error(l.str.call(null,"No matching clause: ",F))}})(),l.truth_.call(null,l._EQ_.call(null,l.keyword("name").call(null,s),"Title"))?l.vector(l.keyword("div"),l.array_map(l.keyword("class"),"mt-2 text-sm"),l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-500"),"Permalink: "),l.truth_.call(null,M)?l.vector(l.keyword("a"),l.array_map(l.keyword("class"),"underline",l.keyword("href"),M),M):l.vector(l.keyword("span"),l.array_map(l.keyword("class"),"text-gray-400"),T,"/\u2026")):null)),N.call(null,l.rest.call(null,b)))}}break}},null,null)}.call(null,R),l.vector(l.keyword("button"),l.array_map(l.keyword("type"),l.keyword("submit"),l.keyword("class"),l.str.call(null,"text-white bg-blue-700 hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded-lg text-sm px-5 py-2.5 text-center dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",q),l.keyword("disabled"),c),l.truth_.call(null,c)?l.vector(l.keyword("span"),l.vector(u.spinner),d):A))))})())))};export{al as __GT_content_type,nl as __GT_field,ol as __GT_slug,ul as all_content_types_page,yl as columns,$ as content_type_fields_form,hl as content_type_new_item_form,V as editor,kl as editor_impl,_l as format_datetime,cl as index_by,dl as months,rl as quill_defaults,il as quill_get_semantic_html,tl as quill_toolbar,Y as random_uuid,sl as single_content_type_page,pl as slug_field_id,vl as start_quill_BANG_,ml as success_alert,wl as title_field_id};
